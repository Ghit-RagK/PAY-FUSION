index.html











<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayFusion - Votre plateforme tout-en-un</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/logos/payfusion-logo-icon.png">
    
    <!-- STYLE CSS INT√âGR√â -->
    <style>
        /* ==========================================================================
           VARIABLES CSS - NOUVELLE PALETTE PROFESSIONNELLE
           ========================================================================== */
        
        :root {
            /* Couleurs principales */
            --color-primary: #2563eb;
            --color-primary-light: #3b82f6;
            --color-primary-very-light: #dbeafe;
            --color-gaming: #f97316;
            --color-streaming: #8b5cf6;
            --color-finance: #0ea5e9;
            --color-white: #ffffff;
            --color-black: #000000;
            --color-gray-50: #f8fafc;
            --color-gray-100: #f1f5f9;
            --color-gray-200: #e2e8f0;
            --color-gray-300: #cbd5e1;
            --color-gray-400: #94a3b8;
            --color-gray-500: #64748b;
            --color-gray-600: #475569;
            --color-gray-700: #334155;
            --color-gray-800: #1e293b;
            --color-gray-900: #0f172a;
            --color-success: #10b981;
            --color-error: #ef4444;
            --color-warning: #f59e0b;
            --color-info: #3b82f6;
            
            /* Typographie */
            --font-family: 'Inter', sans-serif;
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --leading-normal: 1.5;
            --leading-relaxed: 1.625;
            --leading-tight: 1.25;
            
            /* Espacements */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-12: 3rem;
            --space-16: 4rem;
            
            /* Bordures */
            --border-radius: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            
            /* Ombres */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            
            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
        }
        
        /* ==========================================================================
           RESET ET BASE
           ========================================================================== */
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-family);
            font-size: var(--text-sm);
            line-height: var(--leading-normal);
            color: var(--color-gray-700);
            background-color: var(--color-gray-50);
            -webkit-font-smoothing: antialiased;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: var(--leading-tight);
            color: var(--color-gray-800);
            margin-bottom: var(--space-4);
        }
        
        h1 { font-size: var(--text-3xl); }
        h2 { font-size: var(--text-2xl); }
        h3 { font-size: var(--text-xl); }
        
        p {
            margin-bottom: var(--space-4);
        }
        
        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color var(--transition-fast);
        }
        
        a:hover {
            color: var(--color-primary-light);
        }
        
        img {
            max-width: 100%;
            height: auto;
        }
        
        /* ==========================================================================
           COMPOSANTS
           ========================================================================== */
        
        /* Conteneur */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-4);
        }
        
        /* Boutons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--border-radius-md);
            font-weight: 500;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            border: none;
            outline: none;
        }
        
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        
        .btn-primary:hover {
            background-color: var(--color-primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-secondary {
            background-color: var(--color-white);
            color: var(--color-gray-700);
            border: 1px solid var(--color-gray-300);
        }
        
        .btn-secondary:hover {
            background-color: var(--color-gray-50);
            border-color: var(--color-gray-400);
        }
        
        .btn-lg {
            padding: var(--space-4) var(--space-8);
            font-size: var(--text-base);
        }
        
        /* Cartes */
        .card {
            background: var(--color-white);
            border-radius: var(--border-radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--color-gray-200);
            transition: box-shadow var(--transition-normal);
        }
        
        .card:hover {
            box-shadow: var(--shadow);
        }
        
        /* Header */
        .header {
            background-color: var(--color-white);
            border-bottom: 1px solid var(--color-gray-200);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: var(--space-4) 0;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-6);
        }
        
        .logo img {
            height: 40px;
            width: auto;
        }
        
        .nav-desktop {
            display: flex;
            gap: var(--space-6);
        }
        
        .nav-desktop a {
            color: var(--color-gray-700);
            font-weight: 500;
            padding: var(--space-2) 0;
        }
        
        .header-actions {
            display: flex;
            gap: var(--space-3);
        }
        
        /* Hero */
        .hero {
            padding: var(--space-16) 0;
            background: linear-gradient(135deg, var(--color-primary-very-light) 0%, var(--color-white) 100%);
        }
        
        .hero-content {
            max-width: 640px;
            text-align: center;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: var(--text-4xl);
            font-weight: 700;
            margin-bottom: var(--space-6);
        }
        
        .hero-subtitle {
            font-size: var(--text-xl);
            color: var(--color-gray-600);
            margin-bottom: var(--space-8);
        }
        
        .hero-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            margin-bottom: var(--space-12);
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: var(--space-8);
            padding-top: var(--space-8);
            border-top: 1px solid var(--color-gray-200);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--color-primary);
        }
        
        .stat-label {
            font-size: var(--text-sm);
            color: var(--color-gray-600);
        }
        
        /* Services */
        .services {
            padding: var(--space-16) 0;
            background-color: var(--color-white);
        }
        
        .section-header {
            text-align: center;
            max-width: 640px;
            margin: 0 auto var(--space-12);
        }
        
        .section-title {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-4);
        }
        
        .section-subtitle {
            font-size: var(--text-lg);
            color: var(--color-gray-600);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-8);
        }
        
        .service-card {
            text-align: center;
            padding: var(--space-8);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius-lg);
        }
        
        .service-icon {
            width: 64px;
            height: 64px;
            background-color: var(--color-gray-100);
            border-radius: var(--border-radius);
            margin: 0 auto var(--space-6);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .service-icon img {
            width: 32px;
            height: 32px;
        }
        
        .service-title {
            font-size: var(--text-xl);
            margin-bottom: var(--space-4);
        }
        
        .service-description {
            color: var(--color-gray-600);
            margin-bottom: var(--space-6);
        }
        
        /* Footer */
        .footer {
            background-color: var(--color-gray-900);
            color: var(--color-white);
            padding: var(--space-12) 0 var(--space-8);
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-8);
            margin-bottom: var(--space-12);
        }
        
        .footer-col {
            display: flex;
            flex-direction: column;
        }
        
        .footer-logo img {
            height: 33px;
            margin-bottom: var(--space-4);
        }
        
        .footer-description {
            color: var(--color-gray-400);
        }
        
        .footer-title {
            font-size: var(--text-lg);
            margin-bottom: var(--space-4);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: var(--space-2);
        }
        
        .footer-links a {
            color: var(--color-gray-400);
        }
        
        .footer-links a:hover {
            color: var(--color-white);
        }
        
        .footer-contact {
            list-style: none;
        }
        
        .footer-contact li {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
            color: var(--color-gray-400);
        }
        
        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: var(--space-8);
            border-top: 1px solid var(--color-gray-800);
        }
        
        .footer-copyright {
            color: var(--color-gray-500);
        }
        
        /* ==========================================================================
           RESPONSIVE
           ========================================================================== */
        
        @media (max-width: 768px) {
            .nav-desktop {
                display: none;
            }
            
            .hero-title {
                font-size: var(--text-2xl);
            }
            
            .hero-subtitle {
                font-size: var(--text-base);
            }
            
            .hero-actions {
                flex-direction: column;
                gap: var(--space-3);
            }
            
            .hero-stats {
                flex-direction: column;
                gap: var(--space-4);
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
                gap: var(--space-8);
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: var(--space-4);
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .header-actions {
                display: none;
            }
            
            .container {
                padding: 0 var(--space-3);
            }
            
            .service-card {
                padding: var(--space-6);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- Logo -->
                <div class="logo">
                    <img src="assets/logos/payfusion-logo.png" alt="PayFusion" width="120" height="40">
                </div>
                
                <!-- Navigation Desktop -->
                <nav class="nav-desktop">
                    <a href="#accueil">Accueil</a>
                    <a href="#services">Services</a>
                    <a href="#avantages">Avantages</a>
                    <a href="#contact">Contact</a>
                </nav>
                
                <!-- Boutons d'action -->
                <div class="header-actions">
                    <a href="pages/login.html" class="btn btn-secondary">Connexion</a>
                    <a href="pages/register.html" class="btn btn-primary">Commencer</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Section Hero -->
    <section class="hero" id="accueil">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    Votre destination de confiance pour les services financiers, gaming et streaming
                </h1>
                
                <p class="hero-subtitle">
                    PayFusion combine les meilleurs services en une plateforme unique, s√©curis√©e et facile √† utiliser
                </p>
                
                <div class="hero-actions">
                    <a href="pages/register.html" class="btn btn-primary btn-lg">
                        Cr√©er un compte gratuit
                    </a>
                    <a href="#services" class="btn btn-secondary btn-lg">
                        D√©couvrir les services
                    </a>
                </div>
                
                <!-- Statistiques -->
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">5,760+</div>
                        <div class="stat-label">Utilisateurs satisfaits</div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-number">50,000+</div>
                        <div class="stat-label">Transactions r√©ussies</div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Support client</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Services -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nos Services</h2>
                <p class="section-subtitle">
                    Une gamme compl√®te de services adapt√©s √† vos besoins
                </p>
            </div>
            
            <div class="services-grid">
                <!-- Service 1 - Finance -->
                <div class="service-card card">
                    <div class="service-icon">
                        <img src="assets/icons/finance-icon.png" alt="Finance">
                    </div>
                    <h3 class="service-title">Services Financiers</h3>
                    <p class="service-description">
                        Transf√©rez de l'argent, rechargez des portefeuilles √©lectroniques et g√©rez vos finances en toute s√©curit√©.
                    </p>
                    <a href="pages/services.html" class="btn btn-primary">
                        Acc√©der aux services
                    </a>
                </div>
                
                <!-- Service 2 - Gaming -->
                <div class="service-card card">
                    <div class="service-icon">
                        <img src="assets/icons/gaming-icon.png" alt="Gaming">
                    </div>
                    <h3 class="service-title">Recharges Gaming</h3>
                    <p class="service-description">
                        Rechargez vos jeux pr√©f√©r√©s rapidement et recevez vos diamants instantan√©ment.
                    </p>
                    <a href="pages/freefire.html" class="btn btn-primary">
                        Voir les packs
                    </a>
                </div>
                
                <!-- Service 3 - Streaming -->
                <div class="service-card card">
                    <div class="service-icon">
                        <img src="assets/icons/streaming-icon.png" alt="Streaming">
                    </div>
                    <h3 class="service-title">Abonnements Streaming</h3>
                    <p class="service-description">
                        Profitez des meilleures plateformes de streaming avec des abonnements abordables.
                    </p>
                    <a href="pages/netflix.html" class="btn btn-primary">
                        Voir les abonnements
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-grid">
                <!-- Colonne 1 -->
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="assets/logos/payfusion-logo-dark.png" alt="PayFusion">
                    </div>
                    <p class="footer-description">
                        Votre plateforme tout-en-un pour les services financiers, gaming et streaming en Ha√Øti.
                    </p>
                </div>
                
                <!-- Colonne 2 -->
                <div class="footer-col">
                    <h3 class="footer-title">Liens rapides</h3>
                    <ul class="footer-links">
                        <li><a href="pages/login.html">Connexion</a></li>
                        <li><a href="pages/register.html">Inscription</a></li>
                        <li><a href="pages/support.html">Support</a></li>
                    </ul>
                </div>
                
                <!-- Colonne 3 -->
                <div class="footer-col">
                    <h3 class="footer-title">Contact</h3>
                    <ul class="footer-contact">
                        <li>
                            <img src="assets/icons/whatsapp-icon.png" alt="WhatsApp" width="16">
                            <a href="https://wa.me/50939442808">+509 3944 2808</a>
                        </li>
                        <li>
                            <img src="assets/icons/email-icon.png" alt="Email" width="16">
                            <a href="mailto:support.payfusion@gmail.com">support.payfusion@gmail.com</a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="footer-copyright">
                    &copy; 2024 PayFusion. Tous droits r√©serv√©s.
                </p>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT INT√âGR√â -->
    <script>
        // Configuration de base
        const PayFusion = {
            // Initialisation
            init: function() {
                console.log('PayFusion - Page d\'accueil charg√©e');
                this.initSmoothScroll();
                this.initStatsAnimation();
                this.initServiceCards();
            },
            
            // D√©filement fluide
            initSmoothScroll: function() {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        const href = this.getAttribute('href');
                        if (href === '#') return;
                        
                        const targetId = href.substring(1);
                        const targetElement = document.getElementById(targetId);
                        
                        if (targetElement) {
                            e.preventDefault();
                            const headerHeight = document.querySelector('.header').offsetHeight;
                            const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                            const offsetPosition = targetPosition - headerHeight - 20;
                            
                            window.scrollTo({
                                top: offsetPosition,
                                behavior: 'smooth'
                            });
                        }
                    });
                });
            },
            
            // Animation des statistiques
            initStatsAnimation: function() {
                const statNumbers = document.querySelectorAll('.stat-number');
                
                statNumbers.forEach(stat => {
                    const originalText = stat.textContent;
                    const number = parseInt(originalText.replace(/[^0-9]/g, ''));
                    
                    // Animer le compteur
                    this.animateCounter(stat, number, originalText.includes('+'));
                });
            },
            
            // Animer un compteur
            animateCounter: function(element, target, withPlus = true) {
                let current = 0;
                const increment = target / 50; // 50 frames
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    element.textContent = Math.floor(current).toLocaleString() + (withPlus ? '+' : '');
                }, 20);
            },
            
            // Interactions des cartes service
            initServiceCards: function() {
                const cards = document.querySelectorAll('.service-card');
                
                cards.forEach(card => {
                    card.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-8px)';
                    });
                    
                    card.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                    });
                });
            },
            
            // Redirection intelligente
            navigateToService: function(servicePage) {
                // V√©rifier si connect√© (simulation)
                const isLoggedIn = localStorage.getItem('pf_user_id');
                
                if (!isLoggedIn) {
                    if (confirm('Vous devez √™tre connect√© pour acc√©der √† ce service. Souhaitez-vous vous connecter ?')) {
                        window.location.href = `pages/login.html?redirect=${servicePage}`;
                    }
                } else {
                    window.location.href = `pages/${servicePage}`;
                }
            }
        };
        
        // Initialiser quand la page est charg√©e
        document.addEventListener('DOMContentLoaded', function() {
            PayFusion.init();
        });
        
        // Gestion des boutons de service
        document.querySelectorAll('.service-card .btn').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const href = this.getAttribute('href');
                const page = href.replace('pages/', '');
                PayFusion.navigateToService(page);
            });
        });
    </script>
    
    <!-- Librairies externes -->
    <script src="firebase-config.js"></script>
    <script src="emailjs-config.js"></script>
</body>
</html>

















login.html



<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayFusion - Connexion</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/logos/payfusion-logo-icon.png">
    
    <!-- STYLE CSS INT√âGR√â -->
    <style>
        /* ==========================================================================
           VARIABLES (m√™me que index.html)
           ========================================================================== */
        
        :root {
            --color-primary: #2563eb;
            --color-primary-light: #3b82f6;
            --color-primary-very-light: #dbeafe;
            --color-white: #ffffff;
            --color-gray-50: #f8fafc;
            --color-gray-100: #f1f5f9;
            --color-gray-200: #e2e8f0;
            --color-gray-300: #cbd5e1;
            --color-gray-400: #94a3b8;
            --color-gray-500: #64748b;
            --color-gray-600: #475569;
            --color-gray-700: #334155;
            --color-gray-800: #1e293b;
            --color-gray-900: #0f172a;
            --color-success: #10b981;
            --color-error: #ef4444;
            --font-family: 'Inter', sans-serif;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --border-radius: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
        }
        
        /* ==========================================================================
           RESET
           ========================================================================== */
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html, body {
            height: 100%;
        }
        
        body {
            font-family: var(--font-family);
            font-size: var(--text-sm);
            line-height: 1.5;
            color: var(--color-gray-700);
            background-color: var(--color-gray-50);
            display: flex;
            flex-direction: column;
        }
        
        /* ==========================================================================
           LAYOUT CONNEXION
           ========================================================================== */
        
        .login-container {
            display: flex;
            min-height: 100vh;
        }
        
        .login-left {
            flex: 1;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: var(--color-white);
            padding: var(--space-16);
            display: none;
            flex-direction: column;
            justify-content: center;
        }
        
        .login-right {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-8);
        }
        
        /* ==========================================================================
           CARTE DE CONNEXION
           ========================================================================== */
        
        .login-card {
            background: var(--color-white);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            width: 100%;
            max-width: 400px;
            box-shadow: var(--shadow-lg);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .login-title {
            font-size: var(--text-2xl);
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: var(--space-2);
        }
        
        .login-subtitle {
            color: var(--color-gray-500);
        }
        
        /* ==========================================================================
           FORMULAIRES
           ========================================================================== */
        
        .form-group {
            margin-bottom: var(--space-6);
        }
        
        .form-label {
            display: block;
            font-weight: 500;
            color: var(--color-gray-700);
            margin-bottom: var(--space-2);
        }
        
        .form-input {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--border-radius-md);
            font-size: var(--text-sm);
            color: var(--color-gray-700);
            background-color: var(--color-white);
            transition: border-color var(--transition-fast);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .form-input-error {
            border-color: var(--color-error);
        }
        
        .form-error {
            font-size: 0.75rem;
            color: var(--color-error);
            margin-top: var(--space-1);
        }
        
        .input-group {
            position: relative;
        }
        
        .password-toggle {
            position: absolute;
            right: var(--space-3);
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--color-gray-500);
            cursor: pointer;
            padding: var(--space-1);
        }
        
        /* ==========================================================================
           BOUTONS
           ========================================================================== */
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: var(--space-3) var(--space-6);
            border-radius: var(--border-radius-md);
            font-weight: 500;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            border: none;
            outline: none;
        }
        
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        
        .btn-primary:hover:not(:disabled) {
            background-color: var(--color-primary-light);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ==========================================================================
           LIENS
           ========================================================================== */
        
        .login-links {
            margin-top: var(--space-6);
            text-align: center;
        }
        
        .login-links a {
            color: var(--color-primary);
            text-decoration: none;
        }
        
        .login-links a:hover {
            text-decoration: underline;
        }
        
        .divider {
            display: flex;
            align-items: center;
            margin: var(--space-6) 0;
            color: var(--color-gray-400);
        }
        
        .divider::before,
        .divider::after {
            content: "";
            flex: 1;
            border-bottom: 1px solid var(--color-gray-200);
        }
        
        .divider span {
            padding: 0 var(--space-4);
        }
        
        /* ==========================================================================
           MESSAGES
           ========================================================================== */
        
        .alert {
            padding: var(--space-4);
            border-radius: var(--border-radius);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: flex-start;
        }
        
        .alert-error {
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--color-error);
            color: var(--color-error);
        }
        
        .alert-success {
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--color-success);
            color: var(--color-success);
        }
        
        /* ==========================================================================
           RESPONSIVE
           ========================================================================== */
        
        @media (min-width: 768px) {
            .login-left {
                display: flex;
            }
        }
        
        @media (max-width: 480px) {
            .login-right {
                padding: var(--space-4);
            }
            
            .login-card {
                padding: var(--space-6);
            }
        }
    </style>
</head>
<body>
    <div class="login-container">
        <!-- Panneau gauche (seulement sur desktop) -->
        <div class="login-left">
            <h1 style="font-size: 2.5rem; margin-bottom: var(--space-4);">PayFusion</h1>
            <p style="font-size: var(--text-lg); margin-bottom: var(--space-8); opacity: 0.9;">
                Votre plateforme tout-en-un pour les services financiers, gaming et streaming
            </p>
            <div style="margin-top: auto;">
                <h3 style="margin-bottom: var(--space-4);">Pourquoi nous choisir ?</h3>
                <ul style="list-style: none;">
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Transactions s√©curis√©es
                    </li>
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Support 24/7
                    </li>
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Livraison instantan√©e
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Panneau droit (connexion) -->
        <div class="login-right">
            <div class="login-card">
                <!-- En-t√™te -->
                <div class="login-header">
                    <h1 class="login-title">Connexion</h1>
                    <p class="login-subtitle">Acc√©dez √† votre compte PayFusion</p>
                </div>
                
                <!-- Messages d'erreur/succ√®s -->
                <div id="loginMessage" style="display: none;"></div>
                
                <!-- Formulaire -->
                <form id="loginForm">
                    <!-- Email/T√©l√©phone -->
                    <div class="form-group">
                        <label class="form-label" for="emailOrPhone">Email ou T√©l√©phone</label>
                        <input
                            type="text"
                            id="emailOrPhone"
                            name="emailOrPhone"
                            class="form-input"
                            placeholder="exemple@email.com ou +509XXXXXXXX"
                            required
                        >
                        <div id="emailOrPhoneError" class="form-error"></div>
                    </div>
                    
                    <!-- Mot de passe -->
                    <div class="form-group">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2);">
                            <label class="form-label" for="password">Mot de passe</label>
                            <a href="#" id="forgotPassword" style="font-size: 0.75rem; color: var(--color-primary);">
                                Mot de passe oubli√© ?
                            </a>
                        </div>
                        <div class="input-group">
                            <input
                                type="password"
                                id="password"
                                name="password"
                                class="form-input"
                                placeholder="Votre mot de passe"
                                required
                            >
                            <button type="button" class="password-toggle" id="togglePassword">
                                üëÅÔ∏è
                            </button>
                        </div>
                        <div id="passwordError" class="form-error"></div>
                    </div>
                    
                    <!-- Bouton de connexion -->
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" id="loginButton">
                            Se connecter
                        </button>
                    </div>
                </form>
                
                <!-- Divider -->
                <div class="divider">
                    <span>Ou</span>
                </div>
                
                <!-- Inscription -->
                <div class="login-links">
                    <p>Vous n'avez pas de compte ? 
                        <a href="register.html">Cr√©er un compte</a>
                    </p>
                    <p style="margin-top: var(--space-4);">
                        <a href="../index.html">‚Üê Retour √† l'accueil</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT INT√âGR√â -->
    <script>
        // Configuration
        const LoginPage = {
            // Initialisation
            init: function() {
                console.log('Login page initialis√©e');
                
                // √âl√©ments DOM
                this.form = document.getElementById('loginForm');
                this.emailOrPhoneInput = document.getElementById('emailOrPhone');
                this.passwordInput = document.getElementById('password');
                this.togglePasswordBtn = document.getElementById('togglePassword');
                this.loginButton = document.getElementById('loginButton');
                this.forgotPasswordLink = document.getElementById('forgotPassword');
                this.messageDiv = document.getElementById('loginMessage');
                
                // √âv√©nements
                this.bindEvents();
                
                // V√©rifier si redirection
                this.checkRedirect();
                
                // V√©rifier si d√©j√† connect√©
                this.checkIfAlreadyLoggedIn();
            },
            
            // Liaison des √©v√©nements
            bindEvents: function() {
                // Soumission du formulaire
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));
                
                // Toggle password visibility
                this.togglePasswordBtn.addEventListener('click', () => this.togglePasswordVisibility());
                
                // Forgot password
                this.forgotPasswordLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.handleForgotPassword();
                });
                
                // Validation en temps r√©el
                this.emailOrPhoneInput.addEventListener('input', () => this.clearError('emailOrPhone'));
                this.passwordInput.addEventListener('input', () => this.clearError('password'));
            },
            
            // G√©rer la soumission
            handleSubmit: async function(e) {
                e.preventDefault();
                
                // Validation
                if (!this.validateForm()) {
                    return;
                }
                
                // Donn√©es
                const emailOrPhone = this.emailOrPhoneInput.value.trim();
                const password = this.passwordInput.value;
                
                // √âtat de chargement
                this.setLoading(true);
                
                try {
                    // Simuler d√©lai r√©seau
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    // V√©rifier les identifiants hardcod√©s (admin)
                    if (emailOrPhone === 'payfusion@admin.com' && password === 'PayF!Dec25') {
                        this.showSuccess('Connexion admin r√©ussie ! Redirection...');
                        setTimeout(() => {
                            window.location.href = 'admin.html';
                        }, 1500);
                        return;
                    }
                    
                    // V√©rifier avec Firebase
                    if (window.firebaseAuth) {
                        let userCredential;
                        
                        // D√©terminer si c'est un email ou t√©l√©phone
                        if (this.isValidEmail(emailOrPhone)) {
                            // Connexion par email
                            userCredential = await window.firebaseAuth.signInWithEmailAndPassword(
                                emailOrPhone,
                                password
                            );
                        } else if (this.isValidPhone(emailOrPhone)) {
                            // Pour t√©l√©phone, on simule (√† impl√©menter avec recherche)
                            this.showError('Connexion par t√©l√©phone temporairement d√©sactiv√©e. Utilisez votre email.');
                            this.setLoading(false);
                            return;
                        } else {
                            this.showError('Format invalide. Utilisez email ou t√©l√©phone (+509XXXXXXXX)');
                            this.setLoading(false);
                            return;
                        }
                        
                        // Succ√®s
                        this.showSuccess('Connexion r√©ussie ! Redirection...');
                        
                        // Sauvegarder dans localStorage
                        localStorage.setItem('pf_user_id', userCredential.user.uid);
                        localStorage.setItem('pf_user_email', userCredential.user.email);
                        
                        // Redirection
                        setTimeout(() => {
                            const redirect = this.getRedirectParam();
                            window.location.href = redirect || 'home.html';
                        }, 1500);
                        
                    } else {
                        // Fallback si Firebase non disponible
                        this.showSuccess('Connexion simul√©e (Firebase non configur√©)');
                        localStorage.setItem('pf_user_id', 'demo_user');
                        localStorage.setItem('pf_user_email', emailOrPhone);
                        
                        setTimeout(() => {
                            window.location.href = 'home.html';
                        }, 1500);
                    }
                    
                } catch (error) {
                    console.error('Erreur connexion:', error);
                    this.showError(this.getErrorMessage(error.code));
                    this.setLoading(false);
                }
            },
            
            // Valider le formulaire
            validateForm: function() {
                let isValid = true;
                const emailOrPhone = this.emailOrPhoneInput.value.trim();
                const password = this.passwordInput.value;
                
                // Clear previous errors
                this.clearAllErrors();
                
                // Validation email/phone
                if (!emailOrPhone) {
                    this.showError('emailOrPhone', 'Email ou t√©l√©phone requis');
                    isValid = false;
                } else if (!this.isValidEmail(emailOrPhone) && !this.isValidPhone(emailOrPhone)) {
                    this.showError('emailOrPhone', 'Format invalide. Utilisez email ou +509XXXXXXXX');
                    isValid = false;
                }
                
                // Validation mot de passe
                if (!password) {
                    this.showError('password', 'Mot de passe requis');
                    isValid = false;
                } else if (password.length < 6) {
                    this.showError('password', 'Minimum 6 caract√®res');
                    isValid = false;
                }
                
                return isValid;
            },
            
            // Afficher une erreur de champ
            showError: function(fieldId, message) {
                if (fieldId === 'general') {
                    this.messageDiv.innerHTML = `
                        <div class="alert alert-error">
                            ${message}
                        </div>
                    `;
                    this.messageDiv.style.display = 'block';
                    return;
                }
                
                const input = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + 'Error');
                
                if (input && errorDiv) {
                    input.classList.add('form-input-error');
                    errorDiv.textContent = message;
                }
            },
            
            // Afficher un succ√®s
            showSuccess: function(message) {
                this.messageDiv.innerHTML = `
                    <div class="alert alert-success">
                        ${message}
                    </div>
                `;
                this.messageDiv.style.display = 'block';
            },
            
            // Effacer les erreurs
            clearError: function(fieldId) {
                const input = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + 'Error');
                
                if (input) {
                    input.classList.remove('form-input-error');
                }
                if (errorDiv) {
                    errorDiv.textContent = '';
                }
            },
            
            clearAllErrors: function() {
                this.clearError('emailOrPhone');
                this.clearError('password');
                this.messageDiv.style.display = 'none';
                this.messageDiv.innerHTML = '';
            },
            
            // Basculer visibilit√© mot de passe
            togglePasswordVisibility: function() {
                const type = this.passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                this.passwordInput.setAttribute('type', type);
                this.togglePasswordBtn.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è';
            },
            
            // G√©rer mot de passe oubli√©
            handleForgotPassword: function() {
                const emailOrPhone = this.emailOrPhoneInput.value.trim();
                
                if (!emailOrPhone) {
                    this.showError('emailOrPhone', 'Entrez votre email pour r√©initialiser');
                    this.emailOrPhoneInput.focus();
                    return;
                }
                
                if (this.isValidEmail(emailOrPhone)) {
                    this.showSuccess('Instructions envoy√©es par email (simulation)');
                    // Ici: Envoyer r√©ellement l'email de r√©initialisation
                } else {
                    this.showError('emailOrPhone', 'Entrez un email valide pour r√©initialiser');
                }
            },
            
            // V√©rifier les redirections
            checkRedirect: function() {
                const urlParams = new URLSearchParams(window.location.search);
                const redirect = urlParams.get('redirect');
                
                if (redirect) {
                    this.showSuccess(`Veuillez vous connecter pour acc√©der √† ${redirect}`);
                }
            },
            
            // V√©rifier si d√©j√† connect√©
            checkIfAlreadyLoggedIn: function() {
                const userId = localStorage.getItem('pf_user_id');
                
                if (userId) {
                    this.showSuccess('D√©j√† connect√©. Redirection...');
                    setTimeout(() => {
                        window.location.href = 'home.html';
                    }, 1500);
                }
            },
            
            // Obtenir param√®tre de redirection
            getRedirectParam: function() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get('redirect');
            },
            
            // √âtat de chargement
            setLoading: function(isLoading) {
                this.loginButton.disabled = isLoading;
                this.loginButton.innerHTML = isLoading 
                    ? '<span style="display: inline-block; width: 16px; height: 16px; border: 2px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 8px;"></span>Connexion...'
                    : 'Se connecter';
                
                // Ajouter l'animation CSS si n√©cessaire
                if (isLoading && !document.querySelector('#spin-style')) {
                    const style = document.createElement('style');
                    style.id = 'spin-style';
                    style.textContent = `
                        @keyframes spin {
                            to { transform: rotate(360deg); }
                        }
                    `;
                    document.head.appendChild(style);
                }
            },
            
            // Validation email
            isValidEmail: function(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            },
            
            // Validation t√©l√©phone
            isValidPhone: function(phone) {
                const re = /^\+?[0-9]{10,15}$/;
                return re.test(phone.replace(/\s/g, ''));
            },
            
            // Messages d'erreur Firebase
            getErrorMessage: function(errorCode) {
                const messages = {
                    'auth/invalid-email': 'Email invalide',
                    'auth/user-disabled': 'Compte d√©sactiv√©',
                    'auth/user-not-found': 'Utilisateur non trouv√©',
                    'auth/wrong-password': 'Mot de passe incorrect',
                    'auth/too-many-requests': 'Trop de tentatives. R√©essayez plus tard'
                };
                
                return messages[errorCode] || 'Erreur de connexion';
            }
        };
        
        // Initialiser la page
        document.addEventListener('DOMContentLoaded', function() {
            LoginPage.init();
        });
    </script>
    
    <!-- Librairies externes -->
    <script src="../firebase-config.js"></script>
    <script src="../emailjs-config.js"></script>
</body>
</html>













register.html



<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayFusion - Inscription</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/logos/payfusion-logo-icon.png">
    
    <!-- STYLE CSS INT√âGR√â -->
    <style>
        /* ==========================================================================
           VARIABLES
           ========================================================================== */
        
        :root {
            --color-primary: #2563eb;
            --color-primary-light: #3b82f6;
            --color-primary-very-light: #dbeafe;
            --color-white: #ffffff;
            --color-gray-50: #f8fafc;
            --color-gray-100: #f1f5f9;
            --color-gray-200: #e2e8f0;
            --color-gray-300: #cbd5e1;
            --color-gray-400: #94a3b8;
            --color-gray-500: #64748b;
            --color-gray-600: #475569;
            --color-gray-700: #334155;
            --color-gray-800: #1e293b;
            --color-gray-900: #0f172a;
            --color-success: #10b981;
            --color-error: #ef4444;
            --font-family: 'Inter', sans-serif;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --border-radius: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
        }
        
        /* ==========================================================================
           RESET
           ========================================================================== */
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html, body {
            height: 100%;
        }
        
        body {
            font-family: var(--font-family);
            font-size: var(--text-sm);
            line-height: 1.5;
            color: var(--color-gray-700);
            background-color: var(--color-gray-50);
        }
        
        /* ==========================================================================
           LAYOUT INSCRIPTION
           ========================================================================== */
        
        .register-container {
            display: flex;
            min-height: 100vh;
        }
        
        .register-left {
            flex: 1;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: var(--color-white);
            padding: var(--space-16);
            display: none;
            flex-direction: column;
            justify-content: center;
        }
        
        .register-right {
            flex: 1;
            padding: var(--space-8);
            overflow-y: auto;
        }
        
        /* ==========================================================================
           PROGRESSION 3 √âTAPES
           ========================================================================== */
        
        .register-progress {
            max-width: 600px;
            margin: 0 auto var(--space-8);
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: var(--space-8);
        }
        
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--color-gray-300);
            z-index: 1;
        }
        
        .progress-bar {
            position: absolute;
            top: 20px;
            left: 0;
            height: 2px;
            background-color: var(--color-primary);
            z-index: 2;
            transition: width 0.3s ease;
        }
        
        .step {
            position: relative;
            z-index: 3;
            text-align: center;
            flex: 1;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--color-white);
            border: 2px solid var(--color-gray-300);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin: 0 auto var(--space-2);
            transition: all var(--transition-normal);
        }
        
        .step.active .step-number {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
            color: var(--color-white);
        }
        
        .step.completed .step-number {
            background-color: var(--color-success);
            border-color: var(--color-success);
            color: var(--color-white);
        }
        
        .step-label {
            font-size: var(--text-sm);
            color: var(--color-gray-500);
            font-weight: 500;
        }
        
        .step.active .step-label {
            color: var(--color-primary);
        }
        
        /* ==========================================================================
           CARTE D'INSCRIPTION
           ========================================================================== */
        
        .register-card {
            background: var(--color-white);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            max-width: 600px;
            margin: 0 auto;
            box-shadow: var(--shadow-lg);
        }
        
        .register-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .register-title {
            font-size: var(--text-2xl);
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: var(--space-2);
        }
        
        .register-subtitle {
            color: var(--color-gray-500);
        }
        
        /* ==========================================================================
           √âTAPES DU FORMULAIRE
           ========================================================================== */
        
        .form-step {
            display: none;
        }
        
        .form-step.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .step-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--color-gray-800);
            margin-bottom: var(--space-4);
            text-align: center;
        }
        
        /* ==========================================================================
           FORMULAIRES
           ========================================================================== */
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        
        @media (min-width: 640px) {
            .form-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .form-group {
            margin-bottom: var(--space-4);
        }
        
        .form-label {
            display: block;
            font-weight: 500;
            color: var(--color-gray-700);
            margin-bottom: var(--space-2);
        }
        
        .form-label .required {
            color: var(--color-error);
        }
        
        .form-input {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--border-radius-md);
            font-size: var(--text-sm);
            color: var(--color-gray-700);
            background-color: var(--color-white);
            transition: border-color var(--transition-fast);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .form-input-error {
            border-color: var(--color-error);
        }
        
        .form-error {
            font-size: 0.75rem;
            color: var(--color-error);
            margin-top: var(--space-1);
        }
        
        .form-select {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--border-radius-md);
            font-size: var(--text-sm);
            color: var(--color-gray-700);
            background-color: var(--color-white);
            cursor: pointer;
        }
        
        .input-group {
            position: relative;
        }
        
        .password-toggle {
            position: absolute;
            right: var(--space-3);
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--color-gray-500);
            cursor: pointer;
            padding: var(--space-1);
        }
        
        /* ==========================================================================
           CHECKBOXES
           ========================================================================== */
        
        .checkbox-group {
            margin-bottom: var(--space-6);
        }
        
        .checkbox-label {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            cursor: pointer;
            user-select: none;
        }
        
        .custom-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-gray-400);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all var(--transition-fast);
        }
        
        .checkbox-label input[type="checkbox"]:checked + .custom-checkbox {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }
        
        .checkbox-label input[type="checkbox"]:checked + .custom-checkbox::after {
            content: "‚úì";
            color: var(--color-white);
            font-size: 12px;
            font-weight: bold;
        }
        
        .checkbox-label input[type="checkbox"] {
            display: none;
        }
        
        .checkbox-text {
            font-size: var(--text-sm);
            color: var(--color-gray-600);
        }
        
        .checkbox-text a {
            color: var(--color-primary);
            text-decoration: none;
        }
        
        .checkbox-text a:hover {
            text-decoration: underline;
        }
        
        /* ==========================================================================
           BOUTONS DE NAVIGATION
           ========================================================================== */
        
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-8);
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-gray-200);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-3) var(--space-6);
            border-radius: var(--border-radius-md);
            font-weight: 500;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            border: none;
            outline: none;
            min-width: 120px;
        }
        
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        
        .btn-primary:hover:not(:disabled) {
            background-color: var(--color-primary-light);
        }
        
        .btn-secondary {
            background-color: var(--color-white);
            color: var(--color-gray-700);
            border: 1px solid var(--color-gray-300);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background-color: var(--color-gray-50);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ==========================================================================
           MESSAGES
           ========================================================================== */
        
        .alert {
            padding: var(--space-4);
            border-radius: var(--border-radius);
            margin-bottom: var(--space-4);
        }
        
        .alert-error {
            background-color: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--color-error);
            color: var(--color-error);
        }
        
        .alert-success {
            background-color: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--color-success);
            color: var(--color-success);
        }
        
        /* ==========================================================================
           COMPTEUR DE FORCE MOT DE PASSE
           ========================================================================== */
        
        .password-strength {
            margin-top: var(--space-2);
        }
        
        .strength-meter {
            height: 4px;
            background-color: var(--color-gray-200);
            border-radius: 2px;
            margin-bottom: var(--space-2);
            overflow: hidden;
        }
        
        .strength-fill {
            height: 100%;
            width: 0%;
            transition: width 0.3s ease, background-color 0.3s ease;
        }
        
        .strength-text {
            font-size: 0.75rem;
            color: var(--color-gray-500);
        }
        
        /* ==========================================================================
           LIENS
           ========================================================================== */
        
        .register-links {
            text-align: center;
            margin-top: var(--space-6);
            padding-top: var(--space-6);
            border-top: 1px solid var(--color-gray-200);
        }
        
        .register-links a {
            color: var(--color-primary);
            text-decoration: none;
        }
        
        .register-links a:hover {
            text-decoration: underline;
        }
        
        /* ==========================================================================
           RESPONSIVE
           ========================================================================== */
        
        @media (min-width: 768px) {
            .register-left {
                display: flex;
            }
        }
        
        @media (max-width: 640px) {
            .register-right {
                padding: var(--space-4);
            }
            
            .register-card {
                padding: var(--space-6);
            }
            
            .form-navigation {
                flex-direction: column;
                gap: var(--space-3);
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="register-container">
        <!-- Panneau gauche (desktop) -->
        <div class="register-left">
            <h1 style="font-size: 2.5rem; margin-bottom: var(--space-4);">Rejoignez PayFusion</h1>
            <p style="font-size: var(--text-lg); margin-bottom: var(--space-8); opacity: 0.9;">
                Cr√©ez votre compte et acc√©dez √† tous nos services en quelques minutes
            </p>
            <div style="margin-top: auto;">
                <h3 style="margin-bottom: var(--space-4);">Avantages du compte :</h3>
                <ul style="list-style: none;">
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Portefeuille √©lectronique s√©curis√©
                    </li>
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Historique des transactions
                    </li>
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Support prioritaire 24/7
                    </li>
                    <li style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-3);">
                        <span style="color: var(--color-success);">‚úì</span>
                        Notifications en temps r√©el
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Panneau droit (formulaire) -->
        <div class="register-right">
            <!-- Progression 3 √©tapes -->
            <div class="register-progress">
                <div class="progress-steps">
                    <div class="progress-bar" id="progressBar"></div>
                    
                    <div class="step active" id="step1">
                        <div class="step-number">1</div>
                        <div class="step-label">Informations personnelles</div>
                    </div>
                    
                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div class="step-label">Coordonn√©es</div>
                    </div>
                    
                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <div class="step-label">S√©curit√©</div>
                    </div>
                </div>
            </div>
            
            <!-- Carte d'inscription -->
            <div class="register-card">
                <!-- En-t√™te -->
                <div class="register-header">
                    <h1 class="register-title">Cr√©er un compte</h1>
                    <p class="register-subtitle">Rejoignez PayFusion en 3 √©tapes simples</p>
                </div>
                
                <!-- Messages -->
                <div id="registerMessage" style="display: none;"></div>
                
                <!-- Formulaire multi-√©tapes -->
                <form id="registerForm">
                    <!-- √âTAPE 1 : Informations personnelles -->
                    <div class="form-step active" id="step1Form">
                        <h3 class="step-title">Informations personnelles</h3>
                        
                        <div class="form-grid">
                            <!-- Pr√©nom -->
                            <div class="form-group">
                                <label class="form-label" for="firstName">
                                    Pr√©nom <span class="required">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="firstName"
                                    name="firstName"
                                    class="form-input"
                                    placeholder="Votre pr√©nom"
                                    required
                                >
                                <div id="firstNameError" class="form-error"></div>
                            </div>
                            
                            <!-- Nom -->
                            <div class="form-group">
                                <label class="form-label" for="lastName">
                                    Nom <span class="required">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="lastName"
                                    name="lastName"
                                    class="form-input"
                                    placeholder="Votre nom"
                                    required
                                >
                                <div id="lastNameError" class="form-error"></div>
                            </div>
                        </div>
                        
                        <!-- Date de naissance -->
                        <div class="form-group">
                            <label class="form-label" for="birthDate">
                                Date de naissance <span class="required">*</span>
                            </label>
                            <input
                                type="date"
                                id="birthDate"
                                name="birthDate"
                                class="form-input"
                                required
                            >
                            <div id="birthDateError" class="form-error"></div>
                        </div>
                        
                        <!-- Pays -->
                        <div class="form-group">
                            <label class="form-label" for="country">
                                Pays <span class="required">*</span>
                            </label>
                            <select id="country" name="country" class="form-select" required>
                                <option value="">S√©lectionnez votre pays</option>
                                <option value="HT" selected>Ha√Øti</option>
                                <option value="FR">France</option>
                                <option value="US">√âtats-Unis</option>
                                <option value="CA">Canada</option>
                                <option value="DO">R√©publique Dominicaine</option>
                            </select>
                            <div id="countryError" class="form-error"></div>
                        </div>
                        
                        <!-- Navigation -->
                        <div class="form-navigation">
                            <div></div> <!-- Espaceur -->
                            <button type="button" class="btn btn-primary" id="nextStep1">
                                Suivant
                            </button>
                        </div>
                    </div>
                    
                    <!-- √âTAPE 2 : Coordonn√©es -->
                    <div class="form-step" id="step2Form">
                        <h3 class="step-title">Coordonn√©es</h3>
                        
                        <!-- Email -->
                        <div class="form-group">
                            <label class="form-label" for="email">
                                Adresse email <span class="required">*</span>
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                class="form-input"
                                placeholder="exemple@email.com"
                                required
                            >
                            <div id="emailError" class="form-error"></div>
                        </div>
                        
                        <!-- T√©l√©phone -->
                        <div class="form-group">
                            <label class="form-label" for="phone">
                                Num√©ro de t√©l√©phone <span class="required">*</span>
                            </label>
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                class="form-input"
                                placeholder="+509XXXXXXXX"
                                required
                            >
                            <div id="phoneError" class="form-error"></div>
                            <small style="color: var(--color-gray-500); display: block; margin-top: var(--space-1);">
                                Format : +509XXXXXXXX (WhatsApp recommand√©)
                            </small>
                        </div>
                        
                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" id="prevStep2">
                                Pr√©c√©dent
                            </button>
                            <button type="button" class="btn btn-primary" id="nextStep2">
                                Suivant
                            </button>
                        </div>
                    </div>
                    
                    <!-- √âTAPE 3 : S√©curit√© -->
                    <div class="form-step" id="step3Form">
                        <h3 class="step-title">S√©curit√© du compte</h3>
                        
                        <!-- Mot de passe -->
                        <div class="form-group">
                            <label class="form-label" for="password">
                                Mot de passe <span class="required">*</span>
                            </label>
                            <div class="input-group">
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    class="form-input"
                                    placeholder="Minimum 6 caract√®res"
                                    required
                                >
                                <button type="button" class="password-toggle" id="togglePassword">
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <div id="passwordError" class="form-error"></div>
                            
                            <!-- Force du mot de passe -->
                            <div class="password-strength">
                                <div class="strength-meter">
                                    <div class="strength-fill" id="passwordStrength"></div>
                                </div>
                                <div class="strength-text" id="passwordStrengthText">
                                    Force du mot de passe
                                </div>
                            </div>
                        </div>
                        
                        <!-- Confirmation mot de passe -->
                        <div class="form-group">
                            <label class="form-label" for="confirmPassword">
                                Confirmer le mot de passe <span class="required">*</span>
                            </label>
                            <div class="input-group">
                                <input
                                    type="password"
                                    id="confirmPassword"
                                    name="confirmPassword"
                                    class="form-input"
                                    placeholder="Retapez votre mot de passe"
                                    required
                                >
                                <button type="button" class="password-toggle" id="toggleConfirmPassword">
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <div id="confirmPasswordError" class="form-error"></div>
                        </div>
                        
                        <!-- Conditions d'utilisation -->
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="terms" name="terms" required>
                                <span class="custom-checkbox"></span>
                                <span class="checkbox-text">
                                    J'accepte les <a href="#" target="_blank">Conditions d'utilisation</a>
                                    et la <a href="#" target="_blank">Politique de confidentialit√©</a>
                                    <span class="required">*</span>
                                </span>
                            </label>
                            <div id="termsError" class="form-error"></div>
                        </div>
                        
                        <!-- Newsletter -->
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="newsletter" name="newsletter">
                                <span class="custom-checkbox"></span>
                                <span class="checkbox-text">
                                    Je souhaite recevoir les offres sp√©ciales et actualit√©s PayFusion par email
                                </span>
                            </label>
                        </div>
                        
                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" id="prevStep3">
                                Pr√©c√©dent
                            </button>
                            <button type="submit" class="btn btn-primary" id="submitForm">
                                Cr√©er mon compte
                            </button>
                        </div>
                    </div>
                </form>
                
                <!-- D√©j√† un compte -->
                <div class="register-links">
                    <p>Vous avez d√©j√† un compte ? 
                        <a href="login.html">Se connecter</a>
                    </p>
                    <p style="margin-top: var(--space-4);">
                        <a href="../index.html">‚Üê Retour √† l'accueil</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT INT√âGR√â -->
    <script>
        // Configuration
        const RegisterPage = {
            // √âtat
            currentStep: 1,
            totalSteps: 3,
            formData: {},
            
            // Initialisation
            init: function() {
                console.log('Register page initialis√©e');
                
                // √âl√©ments DOM
                this.form = document.getElementById('registerForm');
                this.messageDiv = document.getElementById('registerMessage');
                this.progressBar = document.getElementById('progressBar');
                
                // √âv√©nements
                this.bindEvents();
                
                // Initialiser la progression
                this.updateProgress();
                
                // Initialiser la force du mot de passe
                this.initPasswordStrength();
            },
            
            // Liaison des √©v√©nements
            bindEvents: function() {
                // Navigation des √©tapes
                document.getElementById('nextStep1').addEventListener('click', () => this.nextStep(1));
                document.getElementById('prevStep2').addEventListener('click', () => this.prevStep(2));
                document.getElementById('nextStep2').addEventListener('click', () => this.nextStep(2));
                document.getElementById('prevStep3').addEventListener('click', () => this.prevStep(3));
                
                // Soumission finale
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));
                
                // Toggle password visibility
                document.getElementById('togglePassword').addEventListener('click', () => 
                    this.togglePasswordVisibility('password'));
                document.getElementById('toggleConfirmPassword').addEventListener('click', () => 
                    this.togglePasswordVisibility('confirmPassword'));
                
                // Validation en temps r√©el
                this.setupRealTimeValidation();
            },
            
            // Aller √† l'√©tape suivante
            nextStep: function(fromStep) {
                // Valider l'√©tape actuelle
                if (!this.validateStep(fromStep)) {
                    return;
                }
                
                // Sauvegarder les donn√©es
                this.saveStepData(fromStep);
                
                // Changer d'√©tape
                this.goToStep(fromStep + 1);
            },
            
            // Aller √† l'√©tape pr√©c√©dente
            prevStep: function(fromStep) {
                this.goToStep(fromStep - 1);
            },
            
            // Changer d'√©tape
            goToStep: function(step) {
                // Validation
                if (step < 1 || step > this.totalSteps) {
                    return;
                }
                
                // Mettre √† jour l'√©tat
                this.currentStep = step;
                
                // Mettre √† jour l'interface
                this.updateStepDisplay();
                this.updateProgress();
                
                // Animation
                this.animateStepChange();
            },
            
            // Mettre √† jour l'affichage des √©tapes
            updateStepDisplay: function() {
                // Masquer toutes les √©tapes
                for (let i = 1; i <= this.totalSteps; i++) {
                    document.getElementById(`step${i}Form`).classList.remove('active');
                    document.getElementById(`step${i}`).classList.remove('active', 'completed');
                }
                
                // Afficher l'√©tape active
                document.getElementById(`step${this.currentStep}Form`).classList.add('active');
                document.getElementById(`step${this.currentStep}`).classList.add('active');
                
                // Marquer les √©tapes pr√©c√©dentes comme compl√©t√©es
                for (let i = 1; i < this.currentStep; i++) {
                    document.getElementById(`step${i}`).classList.add('completed');
                }
            },
            
            // Mettre √† jour la barre de progression
            updateProgress: function() {
                const progress = ((this.currentStep - 1) / (this.totalSteps - 1)) * 100;
                this.progressBar.style.width = `${progress}%`;
            },
            
            // Animation du changement d'√©tape
            animateStepChange: function() {
                const activeStep = document.getElementById(`step${this.currentStep}Form`);
                activeStep.style.animation = 'none';
                setTimeout(() => {
                    activeStep.style.animation = 'fadeIn 0.3s ease';
                }, 10);
            },
            
            // Valider une √©tape
            validateStep: function(step) {
                let isValid = true;
                
                switch(step) {
                    case 1:
                        // √âtape 1 : Informations personnelles
                        isValid = this.validateStep1() && isValid;
                        break;
                        
                    case 2:
                        // √âtape 2 : Coordonn√©es
                        isValid = this.validateStep2() && isValid;
                        break;
                }
                
                return isValid;
            },
            
            // Valider l'√©tape 1
            validateStep1: function() {
                let isValid = true;
                this.clearStepErrors(1);
                
                // Pr√©nom
                const firstName = document.getElementById('firstName').value.trim();
                if (!firstName) {
                    this.showError('firstName', 'Le pr√©nom est requis');
                    isValid = false;
                } else if (firstName.length < 2) {
                    this.showError('firstName', 'Minimum 2 caract√®res');
                    isValid = false;
                }
                
                // Nom
                const lastName = document.getElementById('lastName').value.trim();
                if (!lastName) {
                    this.showError('lastName', 'Le nom est requis');
                    isValid = false;
                } else if (lastName.length < 2) {
                    this.showError('lastName', 'Minimum 2 caract√®res');
                    isValid = false;
                }
                
                // Date de naissance
                const birthDate = document.getElementById('birthDate').value;
                if (!birthDate) {
                    this.showError('birthDate', 'La date de naissance est requise');
                    isValid = false;
                } else {
                    const birthDateObj = new Date(birthDate);
                    const today = new Date();
                    const minAgeDate = new Date();
                    minAgeDate.setFullYear(today.getFullYear() - 13);
                    
                    if (birthDateObj > minAgeDate) {
                        this.showError('birthDate', 'Vous devez avoir au moins 13 ans');
                        isValid = false;
                    }
                }
                
                // Pays
                const country = document.getElementById('country').value;
                if (!country) {
                    this.showError('country', 'Le pays est requis');
                    isValid = false;
                }
                
                return isValid;
            },
            
            // Valider l'√©tape 2
            validateStep2: function() {
                let isValid = true;
                this.clearStepErrors(2);
                
                // Email
                const email = document.getElementById('email').value.trim();
                if (!email) {
                    this.showError('email', 'L\'email est requis');
                    isValid = false;
                } else if (!this.isValidEmail(email)) {
                    this.showError('email', 'Format d\'email invalide');
                    isValid = false;
                }
                
                // T√©l√©phone
                const phone = document.getElementById('phone').value.trim();
                if (!phone) {
                    this.showError('phone', 'Le t√©l√©phone est requis');
                    isValid = false;
                } else if (!this.isValidPhone(phone)) {
                    this.showError('phone', 'Format: +509XXXXXXXX');
                    isValid = false;
                }
                
                return isValid;
            },
            
            // Sauvegarder les donn√©es d'une √©tape
            saveStepData: function(step) {
                switch(step) {
                    case 1:
                        this.formData.firstName = document.getElementById('firstName').value.trim();
                        this.formData.lastName = document.getElementById('lastName').value.trim();
                        this.formData.birthDate = document.getElementById('birthDate').value;
                        this.formData.country = document.getElementById('country').value;
                        break;
                        
                    case 2:
                        this.formData.email = document.getElementById('email').value.trim();
                        this.formData.phone = document.getElementById('phone').value.trim();
                        break;
                        
                    case 3:
                        this.formData.password = document.getElementById('password').value;
                        this.formData.confirmPassword = document.getElementById('confirmPassword').value;
                        this.formData.terms = document.getElementById('terms').checked;
                        this.formData.newsletter = document.getElementById('newsletter').checked;
                        break;
                }
            },
            
            // G√©rer la soumission finale
            handleSubmit: async function(e) {
                e.preventDefault();
                
                // Valider l'√©tape 3
                if (!this.validateStep3()) {
                    return;
                }
                
                // Sauvegarder les donn√©es de l'√©tape 3
                this.saveStepData(3);
                
                // V√©rifier que toutes les donn√©es sont pr√©sentes
                if (!this.isFormComplete()) {
                    this.showMessage('Veuillez compl√©ter toutes les √©tapes', 'error');
                    return;
                }
                
                // V√©rifier que les mots de passe correspondent
                if (this.formData.password !== this.formData.confirmPassword) {
                    this.showError('confirmPassword', 'Les mots de passe ne correspondent pas');
                    return;
                }
                
                // V√©rifier les conditions d'utilisation
                if (!this.formData.terms) {
                    this.showError('terms', 'Vous devez accepter les conditions');
                    return;
                }
                
                // √âtat de chargement
                this.setLoading(true);
                
                try {
                    // Simuler d√©lai r√©seau
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Tentative d'inscription avec Firebase
                    if (window.firebaseAuth) {
                        // Cr√©er l'utilisateur Firebase
                        const userCredential = await window.firebaseAuth.createUserWithEmailAndPassword(
                            this.formData.email,
                            this.formData.password
                        );
                        
                        // Cr√©er le document utilisateur dans Firestore
                        if (window.firebaseDb) {
                            const userData = {
                                uid: userCredential.user.uid,
                                email: this.formData.email,
                                phone: this.formData.phone,
                                firstName: this.formData.firstName,
                                lastName: this.formData.lastName,
                                birthDate: this.formData.birthDate,
                                country: this.formData.country,
                                kycStatus: 'pending',
                                balance: 0,
                                createdAt: new Date().toISOString(),
                                lastLogin: new Date().toISOString(),
                                accountLevel: 'basic',
                                newsletter: this.formData.newsletter
                            };
                            
                            await window.firebaseDb.collection('users').doc(userCredential.user.uid).set(userData);
                            
                            // Envoyer l'email de v√©rification
                            await userCredential.user.sendEmailVerification();
                            
                            // Envoyer l'email de bienvenue via EmailJS
                            if (window.emailService) {
                                await window.emailService.sendWelcomeEmail(
                                    this.formData.email,
                                    this.formData.firstName,
                                    this.formData.lastName
                                );
                            }
                            
                            // Succ√®s
                            this.showMessage(
                                'Compte cr√©√© avec succ√®s ! Un email de v√©rification vous a √©t√© envoy√©.',
                                'success'
                            );
                            
                            // Sauvegarder dans localStorage
                            localStorage.setItem('pf_user_id', userCredential.user.uid);
                            localStorage.setItem('pf_user_email', userCredential.user.email);
                            localStorage.setItem('pf_user_name', `${this.formData.firstName} ${this.formData.lastName}`);
                            
                            // Redirection vers la page KYC
                            setTimeout(() => {
                                window.location.href = 'kyc.html';
                            }, 3000);
                            
                        } else {
                            throw new Error('Firestore non disponible');
                        }
                        
                    } else {
                        // Fallback si Firebase non disponible
                        this.showMessage(
                            'Inscription simul√©e (Firebase non configur√©). Redirection...',
                            'success'
                        );
                        
                        // Simuler des donn√©es utilisateur
                        localStorage.setItem('pf_user_id', 'demo_' + Date.now());
                        localStorage.setItem('pf_user_email', this.formData.email);
                        localStorage.setItem('pf_user_name', `${this.formData.firstName} ${this.formData.lastName}`);
                        localStorage.setItem('pf_user_phone', this.formData.phone);
                        
                        // Redirection
                        setTimeout(() => {
                            window.location.href = 'kyc.html';
                        }, 2000);
                    }
                    
                } catch (error) {
                    console.error('Erreur inscription:', error);
                    this.setLoading(false);
                    
                    // Messages d'erreur sp√©cifiques
                    let errorMessage = 'Erreur lors de l\'inscription';
                    
                    if (error.code === 'auth/email-already-in-use') {
                        errorMessage = 'Cet email est d√©j√† utilis√©';
                    } else if (error.code === 'auth/weak-password') {
                        errorMessage = 'Mot de passe trop faible';
                    } else if (error.code === 'auth/invalid-email') {
                        errorMessage = 'Email invalide';
                    }
                    
                    this.showMessage(errorMessage, 'error');
                }
            },
            
            // Valider l'√©tape 3
            validateStep3: function() {
                let isValid = true;
                this.clearStepErrors(3);
                
                // Mot de passe
                const password = document.getElementById('password').value;
                if (!password) {
                    this.showError('password', 'Le mot de passe est requis');
                    isValid = false;
                } else if (password.length < 6) {
                    this.showError('password', 'Minimum 6 caract√®res');
                    isValid = false;
                }
                
                // Confirmation mot de passe
                const confirmPassword = document.getElementById('confirmPassword').value;
                if (!confirmPassword) {
                    this.showError('confirmPassword', 'La confirmation est requise');
                    isValid = false;
                }
                
                // Conditions
                const terms = document.getElementById('terms').checked;
                if (!terms) {
                    this.showError('terms', 'Vous devez accepter les conditions');
                    isValid = false;
                }
                
                return isValid;
            },
            
            // V√©rifier si le formulaire est complet
            isFormComplete: function() {
                const requiredFields = ['firstName', 'lastName', 'birthDate', 'country', 'email', 'phone', 'password'];
                return requiredFields.every(field => this.formData[field]);
            },
            
            // Afficher une erreur de champ
            showError: function(fieldId, message) {
                const input = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + 'Error');
                
                if (input && errorDiv) {
                    input.classList.add('form-input-error');
                    errorDiv.textContent = message;
                    
                    // Scroll vers l'erreur sur mobile
                    if (window.innerWidth < 768) {
                        input.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            },
            
            // Effacer les erreurs d'une √©tape
            clearStepErrors: function(step) {
                let fieldIds = [];
                
                switch(step) {
                    case 1:
                        fieldIds = ['firstName', 'lastName', 'birthDate', 'country'];
                        break;
                    case 2:
                        fieldIds = ['email', 'phone'];
                        break;
                    case 3:
                        fieldIds = ['password', 'confirmPassword', 'terms'];
                        break;
                }
                
                fieldIds.forEach(fieldId => {
                    const input = document.getElementById(fieldId);
                    const errorDiv = document.getElementById(fieldId + 'Error');
                    
                    if (input) {
                        input.classList.remove('form-input-error');
                    }
                    if (errorDiv) {
                        errorDiv.textContent = '';
                    }
                });
                
                // Clear general message
                this.messageDiv.style.display = 'none';
                this.messageDiv.innerHTML = '';
            },
            
            // Afficher un message g√©n√©ral
            showMessage: function(message, type = 'info') {
                this.messageDiv.innerHTML = `
                    <div class="alert alert-${type}">
                        ${message}
                    </div>
                `;
                this.messageDiv.style.display = 'block';
                
                // Scroll vers le message
                this.messageDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            },
            
            // Basculer visibilit√© mot de passe
            togglePasswordVisibility: function(fieldId) {
                const input = document.getElementById(fieldId);
                const toggleBtn = document.getElementById(`toggle${fieldId.charAt(0).toUpperCase() + fieldId.slice(1)}`);
                
                if (input && toggleBtn) {
                    const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                    input.setAttribute('type', type);
                    toggleBtn.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è';
                }
            },
            
            // Initialiser la force du mot de passe
            initPasswordStrength: function() {
                const passwordInput = document.getElementById('password');
                const strengthFill = document.getElementById('passwordStrength');
                const strengthText = document.getElementById('passwordStrengthText');
                
                if (!passwordInput || !strengthFill || !strengthText) return;
                
                passwordInput.addEventListener('input', () => {
                    const password = passwordInput.value;
                    const strength = this.calculatePasswordStrength(password);
                    
                    // Mettre √† jour la barre
                    strengthFill.style.width = `${strength.percentage}%`;
                    strengthFill.style.backgroundColor = strength.color;
                    
                    // Mettre √† jour le texte
                    strengthText.textContent = strength.text;
                    strengthText.style.color = strength.color;
                });
            },
            
            // Calculer la force du mot de passe
            calculatePasswordStrength: function(password) {
                let score = 0;
                
                if (!password) {
                    return {
                        percentage: 0,
                        color: '#ef4444',
                        text: 'Force du mot de passe'
                    };
                }
                
                // Longueur
                if (password.length >= 6) score += 1;
                if (password.length >= 8) score += 1;
                if (password.length >= 12) score += 1;
                
                // Complexit√©
                if (/[a-z]/.test(password)) score += 1;
                if (/[A-Z]/.test(password)) score += 1;
                if (/[0-9]/.test(password)) score += 1;
                if (/[^a-zA-Z0-9]/.test(password)) score += 1;
                
                // D√©terminer le niveau
                let percentage, color, text;
                
                if (score <= 2) {
                    percentage = 33;
                    color = '#ef4444';
                    text = 'Faible';
                } else if (score <= 4) {
                    percentage = 66;
                    color = '#f59e0b';
                    text = 'Moyen';
                } else {
                    percentage = 100;
                    color = '#10b981';
                    text = 'Fort';
                }
                
                return { percentage, color, text };
            },
            
            // Validation en temps r√©el
            setupRealTimeValidation: function() {
                // √âtape 1
                document.getElementById('firstName').addEventListener('input', () => this.clearError('firstName'));
                document.getElementById('lastName').addEventListener('input', () => this.clearError('lastName'));
                document.getElementById('birthDate').addEventListener('input', () => this.clearError('birthDate'));
                document.getElementById('country').addEventListener('change', () => this.clearError('country'));
                
                // √âtape 2
                document.getElementById('email').addEventListener('input', () => {
                    this.clearError('email');
                    // Validation basique email
                    const email = document.getElementById('email').value.trim();
                    if (email && !this.isValidEmail(email)) {
                        this.showError('email', 'Format email invalide');
                    }
                });
                
                document.getElementById('phone').addEventListener('input', () => {
                    this.clearError('phone');
                    // Format t√©l√©phone
                    this.formatPhoneInput();
                });
                
                // √âtape 3
                document.getElementById('password').addEventListener('input', () => this.clearError('password'));
                document.getElementById('confirmPassword').addEventListener('input', () => {
                    this.clearError('confirmPassword');
                    // V√©rifier la correspondance
                    const password = document.getElementById('password').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    
                    if (password && confirmPassword && password !== confirmPassword) {
                        this.showError('confirmPassword', 'Les mots de passe ne correspondent pas');
                    }
                });
                
                document.getElementById('terms').addEventListener('change', () => this.clearError('terms'));
            },
            
            // Effacer une erreur
            clearError: function(fieldId) {
                const input = document.getElementById(fieldId);
                const errorDiv = document.getElementById(fieldId + 'Error');
                
                if (input) {
                    input.classList.remove('form-input-error');
                }
                if (errorDiv) {
                    errorDiv.textContent = '';
                }
            },
            
            // Formater l'entr√©e t√©l√©phone
            formatPhoneInput: function() {
                const input = document.getElementById('phone');
                let value = input.value.replace(/\D/g, '');
                
                // Formater pour Ha√Øti
                if (value.startsWith('509')) {
                    value = '+' + value;
                } else if (value.length === 9 && !value.startsWith('509')) {
                    value = '+509' + value;
                } else if (value.length > 3 && !value.startsWith('+')) {
                    value = '+' + value;
                }
                
                input.value = value;
            },
            
            // √âtat de chargement
            setLoading: function(isLoading) {
                const submitBtn = document.getElementById('submitForm');
                if (!submitBtn) return;
                
                submitBtn.disabled = isLoading;
                
                if (isLoading) {
                    submitBtn.innerHTML = `
                        <span style="
                            display: inline-block;
                            width: 16px;
                            height: 16px;
                            border: 2px solid #fff;
                            border-top-color: transparent;
                            border-radius: 50%;
                            animation: spin 1s linear infinite;
                            margin-right: 8px;
                        "></span>
                        Cr√©ation du compte...
                    `;
                    
                    // Ajouter l'animation CSS si n√©cessaire
                    if (!document.querySelector('#spin-style')) {
                        const style = document.createElement('style');
                        style.id = 'spin-style';
                        style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;
                        document.head.appendChild(style);
                    }
                } else {
                    submitBtn.innerHTML = 'Cr√©er mon compte';
                }
            },
            
            // Validation email
            isValidEmail: function(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            },
            
            // Validation t√©l√©phone
            isValidPhone: function(phone) {
                const re = /^\+509[0-9]{8}$/;
                return re.test(phone.replace(/\s/g, ''));
            }
        };
        
        // Initialiser la page
        document.addEventListener('DOMContentLoaded', function() {
            RegisterPage.init();
        });
    </script>
    
    <!-- Librairies externes -->
    <script src="../firebase-config.js"></script>
    <script src="../emailjs-config.js"></script>
</body>
</html>










wallet.html










<!DOCTYPE html>  <html lang="fr">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>PayFusion - Portefeuille</title>  <!-- Google Fonts -->  
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">  
  
<!-- Favicon -->  
<link rel="icon" type="image/png" href="../assets/logos/payfusion-logo-icon.png">  
  
<!-- STYLE CSS INT√âGR√â -->  
<style>  
    /* ==========================================================================  
       VARIABLES  
       ========================================================================== */  
      
    :root {  
        --color-primary: #2563eb;  
        --color-primary-light: #3b82f6;  
        --color-primary-very-light: #dbeafe;  
        --color-white: #ffffff;  
        --color-gray-50: #f8fafc;  
        --color-gray-100: #f1f5f9;  
        --color-gray-200: #e2e8f0;  
        --color-gray-300: #cbd5e1;  
        --color-gray-400: #94a3b8;  
        --color-gray-500: #64748b;  
        --color-gray-600: #475569;  
        --color-gray-700: #334155;  
        --color-gray-800: #1e293b;  
        --color-gray-900: #0f172a;  
        --color-success: #10b981;  
        --color-error: #ef4444;  
        --color-warning: #f59e0b;  
        --color-info: #3b82f6;  
        --font-family: 'Inter', sans-serif;  
        --text-xs: 0.75rem;  
        --text-sm: 0.875rem;  
        --text-base: 1rem;  
        --text-lg: 1.125rem;  
        --text-xl: 1.25rem;  
        --text-2xl: 1.5rem;  
        --text-3xl: 1.875rem;  
        --space-2: 0.5rem;  
        --space-3: 0.75rem;  
        --space-4: 1rem;  
        --space-6: 1.5rem;  
        --space-8: 2rem;  
        --space-12: 3rem;  
        --space-16: 4rem;  
        --border-radius: 0.375rem;  
        --border-radius-md: 0.5rem;  
        --border-radius-lg: 0.75rem;  
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);  
        --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);  
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);  
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);  
        --transition-fast: 150ms ease;  
        --transition-normal: 250ms ease;  
    }  
      
    /* ==========================================================================  
       RESET  
       ========================================================================== */  
      
    * {  
        box-sizing: border-box;  
        margin: 0;  
        padding: 0;  
    }  
      
    html, body {  
        height: 100%;  
    }  
      
    body {  
        font-family: var(--font-family);  
        font-size: var(--text-sm);  
        line-height: 1.5;  
        color: var(--color-gray-700);  
        background-color: var(--color-gray-50);  
    }  
      
    /* ==========================================================================  
       LAYOUT DASHBOARD  
       ========================================================================== */  
      
    .dashboard-container {  
        display: flex;  
        min-height: 100vh;  
    }  
      
    /* ==========================================================================  
       SIDEBAR (identique √† home.html)  
       ========================================================================== */  
      
    .sidebar {  
        width: 280px;  
        background-color: var(--color-white);  
        border-right: 1px solid var(--color-gray-200);  
        display: flex;  
        flex-direction: column;  
        position: fixed;  
        top: 0;  
        left: 0;  
        bottom: 0;  
        z-index: 100;  
        transition: transform var(--transition-normal);  
    }  
      
    .sidebar-header {  
        padding: var(--space-6);  
        border-bottom: 1px solid var(--color-gray-200);  
    }  
      
    .sidebar-logo {  
        display: flex;  
        align-items: center;  
        gap: var(--space-3);  
        margin-bottom: var(--space-6);  
    }  
      
    .sidebar-logo img {  
        height: 32px;  
        width: auto;  
    }  
      
    .sidebar-logo h1 {  
        font-size: var(--text-lg);  
        font-weight: 600;  
        color: var(--color-gray-900);  
        margin: 0;  
    }  
      
    .user-info {  
        display: flex;  
        align-items: center;  
        gap: var(--space-3);  
    }  
      
    .user-avatar {  
        width: 40px;  
        height: 40px;  
        border-radius: 50%;  
        background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        color: var(--color-white);  
        font-weight: 600;  
        font-size: var(--text-base);  
    }  
      
    .user-details {  
        flex: 1;  
        overflow: hidden;  
    }  
      
    .user-name {  
        font-weight: 600;  
        color: var(--color-gray-900);  
        margin-bottom: 2px;  
        white-space: nowrap;  
        overflow: hidden;  
        text-overflow: ellipsis;  
    }  
      
    .user-email {  
        font-size: var(--text-xs);  
        color: var(--color-gray-500);  
        white-space: nowrap;  
        overflow: hidden;  
        text-overflow: ellipsis;  
    }  
      
    .sidebar-nav {  
        flex: 1;  
        overflow-y: auto;  
        padding: var(--space-4) 0;  
    }  
      
    .nav-section {  
        margin-bottom: var(--space-6);  
    }  
      
    .nav-section-title {  
        font-size: var(--text-xs);  
        font-weight: 600;  
        color: var(--color-gray-500);  
        text-transform: uppercase;  
        letter-spacing: 0.05em;  
        padding: 0 var(--space-6) var(--space-2);  
        margin-bottom: var(--space-2);  
    }  
      
    .nav-list {  
        list-style: none;  
    }  
      
    .nav-item {  
        margin-bottom: 2px;  
    }  
      
    .nav-link {  
        display: flex;  
        align-items: center;  
        gap: var(--space-3);  
        padding: var(--space-3) var(--space-6);  
        color: var(--color-gray-700);  
        text-decoration: none;  
        transition: all var(--transition-fast);  
        position: relative;  
    }  
      
    .nav-link:hover {  
        background-color: var(--color-gray-50);  
        color: var(--color-primary);  
    }  
      
    .nav-link.active {  
        background-color: var(--color-primary-very-light);  
        color: var(--color-primary);  
        font-weight: 500;  
    }  
      
    .nav-link.active::before {  
        content: '';  
        position: absolute;  
        left: 0;  
        top: 0;  
        bottom: 0;  
        width: 3px;  
        background-color: var(--color-primary);  
    }  
      
    .nav-icon {  
        width: 20px;  
        height: 20px;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        flex-shrink: 0;  
    }  
      
    .nav-icon img {  
        width: 16px;  
        height: 16px;  
    }  
      
    .nav-text {  
        flex: 1;  
    }  
      
    .nav-checkbox {  
        width: 18px;  
        height: 18px;  
        border: 2px solid var(--color-gray-400);  
        border-radius: var(--border-radius);  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        flex-shrink: 0;  
        transition: all var(--transition-fast);  
    }  
      
    .nav-link.active .nav-checkbox {  
        background-color: var(--color-primary);  
        border-color: var(--color-primary);  
    }  
      
    .nav-link.active .nav-checkbox::after {  
        content: "‚úì";  
        color: var(--color-white);  
        font-size: 12px;  
        font-weight: bold;  
    }  
      
    .sidebar-footer {  
        padding: var(--space-4) var(--space-6);  
        border-top: 1px solid var(--color-gray-200);  
        margin-top: auto;  
    }  
      
    /* ==========================================================================  
       CONTENU PRINCIPAL  
       ========================================================================== */  
      
    .main-content {  
        flex: 1;  
        margin-left: 280px;  
        transition: margin-left var(--transition-normal);  
    }  
      
    /* Header principal */  
    .main-header {  
        background-color: var(--color-white);  
        border-bottom: 1px solid var(--color-gray-200);  
        padding: var(--space-4) var(--space-6);  
        position: sticky;  
        top: 0;  
        z-index: 50;  
        display: flex;  
        align-items: center;  
        justify-content: space-between;  
    }  
      
    .header-left {  
        display: flex;  
        align-items: center;  
        gap: var(--space-4);  
    }  
      
    .mobile-menu-toggle {  
        display: none;  
        background: none;  
        border: none;  
        cursor: pointer;  
        padding: var(--space-2);  
    }  
      
    .mobile-menu-toggle span {  
        display: block;  
        width: 24px;  
        height: 2px;  
        background-color: var(--color-gray-700);  
        margin: 4px 0;  
        transition: var(--transition-normal);  
    }  
      
    .page-title {  
        font-size: var(--text-xl);  
        font-weight: 600;  
        color: var(--color-gray-900);  
        margin: 0;  
    }  
      
    .header-right {  
        display: flex;  
        align-items: center;  
        gap: var(--space-4);  
    }  
      
    /* ==========================================================================  
       CONTENU PORTEFEUILLE  
       ========================================================================== */  
      
    .wallet-content {  
        padding: var(--space-6);  
    }  
      
    /* Onglets */  
    .wallet-tabs {  
        display: flex;  
        border-bottom: 1px solid var(--color-gray-200);  
        margin-bottom: var(--space-6);  
        overflow-x: auto;  
    }  
      
    .tab-btn {  
        padding: var(--space-4) var(--space-6);  
        background: none;  
        border: none;  
        border-bottom: 2px solid transparent;  
        font-weight: 500;  
        color: var(--color-gray-600);  
        cursor: pointer;  
        white-space: nowrap;  
        transition: all var(--transition-fast);  
    }  
      
    .tab-btn:hover {  
        color: var(--color-primary);  
    }  
      
    .tab-btn.active {  
        color: var(--color-primary);  
        border-bottom-color: var(--color-primary);  
    }  
      
    /* Section solde */  
    .balance-section {  
        background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);  
        border-radius: var(--border-radius-lg);  
        padding: var(--space-8);  
        color: var(--color-white);  
        margin-bottom: var(--space-8);  
        position: relative;  
        overflow: hidden;  
    }  
      
    .balance-section::before {  
        content: '';  
        position: absolute;  
        top: -50%;  
        right: -20%;  
        width: 300px;  
        height: 300px;  
        background: rgba(255, 255, 255, 0.1);  
        border-radius: 50%;  
    }  
      
    .balance-title {  
        font-size: var(--text-lg);  
        margin-bottom: var(--space-2);  
        opacity: 0.9;  
    }  
      
    .balance-amount {  
        font-size: var(--text-3xl);  
        font-weight: 700;  
        margin-bottom: var(--space-6);  
    }  
      
    .balance-details {  
        display: grid;  
        grid-template-columns: repeat(3, 1fr);  
        gap: var(--space-6);  
        background: rgba(255, 255, 255, 0.1);  
        padding: var(--space-6);  
        border-radius: var(--border-radius);  
        backdrop-filter: blur(10px);  
    }  
      
    .balance-item {  
        text-align: center;  
    }  
      
    .balance-label {  
        font-size: var(--text-sm);  
        opacity: 0.8;  
        margin-bottom: var(--space-1);  
    }  
      
    .balance-value {  
        font-size: var(--text-xl);  
        font-weight: 600;  
    }  
      
    /* Actions rapides */  
    .quick-actions {  
        display: flex;  
        gap: var(--space-4);  
        margin-bottom: var(--space-8);  
        flex-wrap: wrap;  
    }  
      
    /* Boutons */  
    .btn {  
        display: inline-flex;  
        align-items: center;  
        justify-content: center;  
        gap: var(--space-2);  
        padding: var(--space-3) var(--space-6);  
        border-radius: var(--border-radius-md);  
        font-weight: 500;  
        font-size: var(--text-sm);  
        cursor: pointer;  
        transition: all var(--transition-normal);  
        border: none;  
        outline: none;  
        text-decoration: none;  
    }  
      
    .btn-primary {  
        background-color: var(--color-primary);  
        color: var(--color-white);  
    }  
      
    .btn-primary:hover {  
        background-color: var(--color-primary-light);  
        transform: translateY(-2px);  
        box-shadow: var(--shadow-md);  
    }  
      
    .btn-success {  
        background-color: var(--color-success);  
        color: var(--color-white);  
    }  
      
    .btn-secondary {  
        background-color: var(--color-white);  
        color: var(--color-gray-700);  
        border: 1px solid var(--color-gray-300);  
    }  
      
    .btn-secondary:hover {  
        background-color: var(--color-gray-50);  
        border-color: var(--color-gray-400);  
    }  
      
    /* Section d√©p√¥t */  
    .deposit-section {  
        background-color: var(--color-white);  
        border-radius: var(--border-radius-lg);  
        padding: var(--space-8);  
        margin-bottom: var(--space-8);  
        box-shadow: var(--shadow);  
        border: 1px solid var(--color-gray-200);  
    }  
      
    .section-title {  
        font-size: var(--text-xl);  
        font-weight: 600;  
        color: var(--color-gray-900);  
        margin-bottom: var(--space-6);  
    }  
      
    /* M√©thodes de d√©p√¥t */  
    .deposit-methods {  
        display: grid;  
        grid-template-columns: repeat(3, 1fr);  
        gap: var(--space-6);  
        margin-bottom: var(--space-6);  
    }  
      
    @media (max-width: 1024px) {  
        .deposit-methods {  
            grid-template-columns: repeat(2, 1fr);  
        }  
    }  
      
    @media (max-width: 640px) {  
        .deposit-methods {  
            grid-template-columns: 1fr;  
        }  
    }  
      
    .method-card {  
        border: 1px solid var(--color-gray-200);  
        border-radius: var(--border-radius);  
        padding: var(--space-6);  
        transition: all var(--transition-normal);  
        cursor: pointer;  
        position: relative;  
    }  
      
    .method-card:hover {  
        border-color: var(--color-primary);  
        transform: translateY(-4px);  
        box-shadow: var(--shadow-md);  
    }  
      
    .method-card.selected {  
        border-color: var(--color-primary);  
        background-color: var(--color-primary-very-light);  
    }  
      
    .method-icon {  
        width: 48px;  
        height: 48px;  
        background-color: var(--color-gray-100);  
        border-radius: var(--border-radius);  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        margin-bottom: var(--space-4);  
    }  
      
    .method-icon img {  
        width: 32px;  
        height: 32px;  
    }  
      
    .method-title {  
        font-weight: 600;  
        color: var(--color-gray-800);  
        margin-bottom: var(--space-2);  
    }  
      
    .method-details {  
        font-size: var(--text-sm);  
        color: var(--color-gray-600);  
        margin-bottom: var(--space-4);  
    }  
      
    .method-info {  
        background-color: var(--color-gray-50);  
        padding: var(--space-4);  
        border-radius: var(--border-radius);  
        margin-top: var(--space-4);  
        font-size: var(--text-sm);  
    }  
      
    .method-info.hidden {  
        display: none;  
    }  
      
    .info-item {  
        display: flex;  
        justify-content: space-between;  
        margin-bottom: var(--space-2);  
    }  
      
    .info-item:last-child {  
        margin-bottom: 0;  
    }  
      
    .info-label {  
        color: var(--color-gray-600);  
    }  
      
    .info-value {  
        font-weight: 500;  
        color: var(--color-gray-800);  
    }  
      
    /* Formulaire d√©p√¥t */  
    .deposit-form {  
        background-color: var(--color-gray-50);  
        padding: var(--space-6);  
        border-radius: var(--border-radius);  
        margin-top: var(--space-6);  
    }  
      
    .form-group {  
        margin-bottom: var(--space-6);  
    }  
      
    .form-label {  
        display: block;  
        font-weight: 500;  
        color: var(--color-gray-700);  
        margin-bottom: var(--space-2);  
    }  
      
    .form-input {  
        width: 100%;  
        padding: var(--space-3) var(--space-4);  
        border: 1px solid var(--color-gray-300);  
        border-radius: var(--border-radius-md);  
        font-size: var(--text-sm);  
        color: var(--color-gray-700);  
        background-color: var(--color-white);  
        transition: border-color var(--transition-fast);  
    }  
      
    .form-input:focus {  
        outline: none;  
        border-color: var(--color-primary);  
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);  
    }  
      
    .form-hint {  
        font-size: var(--text-xs);  
        color: var(--color-gray-500);  
        margin-top: var(--space-1);  
    }  
      
    .upload-area {  
        border: 2px dashed var(--color-gray-300);  
        border-radius: var(--border-radius);  
        padding: var(--space-8);  
        text-align: center;  
        cursor: pointer;  
        transition: all var(--transition-fast);  
    }  
      
    .upload-area:hover {  
        border-color: var(--color-primary);  
        background-color: var(--color-white);  
    }  
      
    .upload-icon {  
        font-size: var(--text-3xl);  
        color: var(--color-gray-400);  
        margin-bottom: var(--space-4);  
    }  
      
    .upload-text {  
        color: var(--color-gray-600);  
        margin-bottom: var(--space-2);  
    }  
      
    .upload-hint {  
        font-size: var(--text-xs);  
        color: var(--color-gray-500);  
    }  
      
    /* Section retrait */  
    .withdrawal-section {  
        background-color: var(--color-white);  
        border-radius: var(--border-radius-lg);  
        padding: var(--space-8);  
        margin-bottom: var(--space-8);  
        box-shadow: var(--shadow);  
        border: 1px solid var(--color-gray-200);  
    }  
      
    /* Historique transactions */  
    .history-section {  
        background-color: var(--color-white);  
        border-radius: var(--border-radius-lg);  
        padding: var(--space-8);  
        box-shadow: var(--shadow);  
        border: 1px solid var(--color-gray-200);  
    }  
      
    .history-header {  
        display: flex;  
        justify-content: space-between;  
        align-items: center;  
        margin-bottom: var(--space-6);  
        flex-wrap: wrap;  
        gap: var(--space-4);  
    }  
      
    .history-filters {  
        display: flex;  
        gap: var(--space-4);  
        align-items: center;  
    }  
      
    .filter-select {  
        padding: var(--space-2) var(--space-4);  
        border: 1px solid var(--color-gray-300);  
        border-radius: var(--border-radius);  
        background-color: var(--color-white);  
        font-size: var(--text-sm);  
        color: var(--color-gray-700);  
    }  
      
    /* Tableau transactions */  
    .transactions-table {  
        width: 100%;  
        border-collapse: collapse;  
    }  
      
    .transactions-table th {  
        background-color: var(--color-gray-50);  
        color: var(--color-gray-700);  
        font-weight: 600;  
        text-align: left;  
        padding: var(--space-3) var(--space-4);  
        border-bottom: 1px solid var(--color-gray-200);  
        white-space: nowrap;  
    }  
      
    .transactions-table td {  
        padding: var(--space-3) var(--space-4);  
        border-bottom: 1px solid var(--color-gray-200);  
        vertical-align: middle;  
    }  
      
    .transactions-table tr:hover {  
        background-color: var(--color-gray-50);  
    }  
      
    .status-badge {  
        display: inline-block;  
        padding: var(--space-1) var(--space-3);  
        font-size: var(--text-xs);  
        font-weight: 500;  
        border-radius: 12px;  
        text-transform: uppercase;  
    }  
      
    .status-pending {  
        background-color: rgba(245, 158, 11, 0.1);  
        color: var(--color-warning);  
    }  
      
    .status-completed {  
        background-color: rgba(16, 185, 129, 0.1);  
        color: var(--color-success);  
    }  
      
    .status-failed {  
        background-color: rgba(239, 68, 68, 0.1);  
        color: var(--color-error);  
    }  
      
    .amount-positive {  
        color: var(--color-success);  
        font-weight: 600;  
    }  
      
    .amount-negative {  
        color: var(--color-error);  
        font-weight: 600;  
    }  
      
    .empty-state {  
        text-align: center;  
        padding: var(--space-12) var(--space-4);  
        color: var(--color-gray-500);  
    }  
      
    .empty-icon {  
        font-size: var(--text-3xl);  
        margin-bottom: var(--space-4);  
    }  
      
    /* Section limites */  
    .limits-section {  
        background-color: var(--color-white);  
        border-radius: var(--border-radius-lg);  
        padding: var(--space-8);  
        margin-top: var(--space-8);  
        box-shadow: var(--shadow);  
        border: 1px solid var(--color-gray-200);  
    }  
      
    .limits-grid {  
        display: grid;  
        grid-template-columns: repeat(2, 1fr);  
        gap: var(--space-6);  
        margin-top: var(--space-4);  
    }  
      
    .limit-item {  
        background-color: var(--color-gray-50);  
        padding: var(--space-4);  
        border-radius: var(--border-radius);  
    }  
      
    .limit-label {  
        font-size: var(--text-sm);  
        color: var(--color-gray-600);  
        margin-bottom: var(--space-2);  
    }  
      
    .limit-value {  
        font-size: var(--text-lg);  
        font-weight: 600;  
        color: var(--color-gray-800);  
    }  
      
    .limit-progress {  
        height: 4px;  
        background-color: var(--color-gray-200);  
        border-radius: 2px;  
        margin-top: var(--space-2);  
        overflow: hidden;  
    }  
      
    .limit-progress-fill {  
        height: 100%;  
        background-color: var(--color-primary);  
        border-radius: 2px;  
        transition: width 0.3s ease;  
    }  
      
    /* ==========================================================================  
       MODALS  
       ========================================================================== */  
      
    .modal-overlay {  
        position: fixed;  
        top: 0;  
        left: 0;  
        right: 0;  
        bottom: 0;  
        background-color: rgba(0, 0, 0, 0.5);  
        display: flex;  
        align-items: center;  
        justify-content: center;  
        z-index: 1000;  
        padding: var(--space-4);  
        opacity: 0;  
        pointer-events: none;  
        transition: opacity var(--transition-normal);  
    }  
      
    .modal-overlay.active {  
        opacity: 1;  
        pointer-events: all;  
    }  
      
    .modal {  
        background-color: var(--color-white);  
        border-radius: var(--border-radius-lg);  
        width: 100%;  
        max-width: 500px;  
        max-height: 90vh;  
        overflow-y: auto;  
        box-shadow: var(--shadow-xl);  
        transform: translateY(20px);  
        transition: transform var(--transition-normal);  
    }  
      
    .modal-overlay.active .modal {  
        transform: translateY(0);  
    }  
      
    .modal-header {  
        padding: var(--space-6);  
        border-bottom: 1px solid var(--color-gray-200);  
        display: flex;  
        align-items: center;  
        justify-content: space-between;  
    }  
      
    .modal-title {  
        font-size: var(--text-xl);  
        font-weight: 600;  
        color: var(--color-gray-900);  
        margin: 0;  
    }  
      
    .modal-close {  
        background: none;  
        border: none;  
        font-size: var(--text-2xl);  
        color: var(--color-gray-500);  
        cursor: pointer;  
        padding: var(--space-1);  
        line-height: 1;  
    }  
      
    .modal-close:hover {  
        color: var(--color-gray-700);  
    }  
      
    .modal-body {  
        padding: var(--space-6);  
    }  
      
    .modal-footer {  
        padding: var(--space-6);  
        border-top: 1px solid var(--color-gray-200);  
        display: flex;  
        justify-content: flex-end;  
        gap: var(--space-3);  
    }  
      
    /* ==========================================================================  
       RESPONSIVE  
       ========================================================================== */  
      
    @media (max-width: 1024px) {  
        .sidebar {  
            transform: translateX(-100%);  
        }  
          
        .sidebar.mobile-open {  
            transform: translateX(0);  
        }  
          
        .main-content {  
            margin-left: 0;  
        }  
          
        .mobile-menu-toggle {  
            display: block;  
        }  
          
        .balance-details {  
            grid-template-columns: 1fr;  
            gap: var(--space-4);  
        }  
          
        .limits-grid {  
            grid-template-columns: 1fr;  
        }  
    }  
      
    @media (max-width: 768px) {  
        .wallet-content {  
            padding: var(--space-4);  
        }  
          
        .deposit-section,  
        .withdrawal-section,  
        .history-section,  
        .limits-section {  
            padding: var(--space-6);  
        }  
          
        .balance-section {  
            padding: var(--space-6);  
        }  
          
        .quick-actions {  
            flex-direction: column;  
        }  
          
        .history-header {  
            flex-direction: column;  
            align-items: stretch;  
        }  
          
        .history-filters {  
            flex-wrap: wrap;  
        }  
          
        .transactions-table {  
            display: block;  
            overflow-x: auto;  
        }  
    }  
      
    @media (max-width: 480px) {  
        .main-header {  
            padding: var(--space-3) var(--space-4);  
        }  
          
        .wallet-tabs {  
            flex-wrap: nowrap;  
            overflow-x: auto;  
        }  
          
        .tab-btn {  
            padding: var(--space-3) var(--space-4);  
            font-size: var(--text-sm);  
        }  
    }  
</style>

</head>  
<body>  
    <div class="dashboard-container">  
        <!-- SIDEBAR (identique √† home.html) -->  
        <aside class="sidebar" id="sidebar">  
            <div class="sidebar-header">  
                <div class="sidebar-logo">  
                    <img src="../assets/logos/payfusion-logo-icon.png" alt="PayFusion">  
                    <h1>PAY FUSION</h1>  
                </div>  <div class="user-info">  
                <div class="user-avatar" id="userAvatar">JD</div>  
                <div class="user-details">  
                    <div class="user-name" id="userName">John Doe</div>  
                    <div class="user-email" id="userEmail">john@exemple.com</div>  
                </div>  
            </div>  
        </div>  
          
        <nav class="sidebar-nav">  
            <div class="nav-section">  
                <div class="nav-section-title">Accueil</div>  
                <ul class="nav-list">  
                    <li class="nav-item">  
                        <a href="home.html" class="nav-link" data-page="home">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/home-icon.png" alt="Accueil">  
                            </span>  
                            <span class="nav-text">Tableau de bord</span>  
                        </a>  
                    </li>  
                </ul>  
            </div>  
              
            <div class="nav-section">  
                <div class="nav-section-title">Services</div>  
                <ul class="nav-list">  
                    <li class="nav-item">  
                        <a href="services.html" class="nav-link" data-page="services">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/finance-icon.png" alt="Finance">  
                            </span>  
                            <span class="nav-text">Services financiers</span>  
                        </a>  
                    </li>  
                    <li class="nav-item">  
                        <a href="freefire.html" class="nav-link" data-page="freefire">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/gaming-icon.png" alt="Gaming">  
                            </span>  
                            <span class="nav-text">Recharge Jeux</span>  
                        </a>  
                    </li>  
                    <li class="nav-item">  
                        <a href="netflix.html" class="nav-link" data-page="netflix">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/streaming-icon.png" alt="Streaming">  
                            </span>  
                            <span class="nav-text">Streaming</span>  
                        </a>  
                    </li>  
                </ul>  
            </div>  
              
            <div class="nav-section">  
                <div class="nav-section-title">Compte</div>  
                <ul class="nav-list">  
                    <li class="nav-item">  
                        <a href="wallet.html" class="nav-link active" data-page="wallet">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/wallet-icon.png" alt="Portefeuille">  
                            </span>  
                            <span class="nav-text">Portefeuille</span>  
                        </a>  
                    </li>  
                    <li class="nav-item">  
                        <a href="account.html" class="nav-link" data-page="account">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/profile-icon.png" alt="Profil">  
                            </span>  
                            <span class="nav-text">Profil</span>  
                        </a>  
                    </li>  
                    <li class="nav-item">  
                        <a href="settings.html" class="nav-link" data-page="settings">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/settings-icon.png" alt="Param√®tres">  
                            </span>  
                            <span class="nav-text">Param√®tres</span>  
                        </a>  
                    </li>  
                </ul>  
            </div>  
              
            <div class="nav-section">  
                <div class="nav-section-title">Aide et Support</div>  
                <ul class="nav-list">  
                    <li class="nav-item">  
                        <a href="support.html" class="nav-link" data-page="support">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/support-icon.png" alt="Support">  
                            </span>  
                            <span class="nav-text">Support</span>  
                        </a>  
                    </li>  
                    <li class="nav-item">  
                        <a href="https://wa.me/50939442808" class="nav-link" target="_blank">  
                            <span class="nav-checkbox"></span>  
                            <span class="nav-icon">  
                                <img src="../assets/icons/whatsapp-icon.png" alt="WhatsApp">  
                            </span>  
                            <span class="nav-text">WhatsApp</span>  
                        </a>  
                    </li>  
                </ul>  
            </div>  
        </nav>  
          
        <div class="sidebar-footer">  
            <a href="logout.html" class="btn btn-secondary" style="width: 100%;">  
                <span class="nav-icon">  
                    <img src="../assets/icons/logout-icon.png" alt="D√©connexion">  
                </span>  
                Se D√©connecter  
            </a>  
        </div>  
    </aside>  
      
    <!-- CONTENU PRINCIPAL -->  
    <main class="main-content">  
        <!-- Header -->  
        <header class="main-header">  
            <div class="header-left">  
                <button class="mobile-menu-toggle" id="mobileMenuToggle">  
                    <span></span>  
                    <span></span>  
                    <span></span>  
                </button>  
                <h1 class="page-title">Portefeuille</h1>  
            </div>  
              
            <div class="header-right">  
                <div id="kycStatusBadge" class="status-badge status-pending">  
                    KYC: En attente  
                </div>  
            </div>  
        </header>  
          
        <!-- Contenu portefeuille -->  
        <div class="wallet-content">  
            <!-- Onglets -->  
            <div class="wallet-tabs">  
                <button class="tab-btn active" data-tab="overview">Vue d'ensemble</button>  
                <button class="tab-btn" data-tab="deposit">D√©p√¥t</button>  
                <button class="tab-btn" data-tab="withdrawal">Retrait</button>  
                <button class="tab-btn" data-tab="history">Historique</button>  
            </div>  
              
            <!-- ONGLET 1: Vue d'ensemble -->  
            <div class="tab-content active" id="overviewTab">  
                <!-- Section solde -->  
                <div class="balance-section">  
                    <div class="balance-title">Solde disponible</div>  
                    <div class="balance-amount" id="balanceAmount">1,850 HTG</div>  
                      
                    <div class="balance-details">  
                        <div class="balance-item">  
                            <div class="balance-label">Solde HTG</div>  
                            <div class="balance-value" id="htgBalance">1,850</div>  
                        </div>  
                        <div class="balance-item">  
                            <div class="balance-label">√âquivalent USD</div>  
                            <div class="balance-value" id="usdBalance">12.33</div>  
                        </div>  
                        <div class="balance-item">  
                            <div class="balance-label">USDT</div>  
                            <div class="balance-value" id="usdtBalance">0.00</div>  
                        </div>  
                    </div>  
                </div>  
                  
                <!-- Actions rapides -->  
                <div class="quick-actions">  
                    <button class="btn btn-primary" id="quickDepositBtn">  
                        <img src="../assets/icons/download-icon.png" alt="D√©p√¥t" width="16">  
                        D√©p√¥t rapide  
                    </button>  
                    <button class="btn btn-success" id="quickWithdrawalBtn">  
                        <img src="../assets/icons/upload-icon.png" alt="Retrait" width="16">  
                        Demander un retrait  
                    </button>  
                    <a href="services.html" class="btn btn-secondary">  
                        <img src="../assets/icons/finance-icon.png" alt="Services" width="16">  
                        Utiliser mes fonds  
                    </a>  
                    <button class="btn btn-secondary" id="viewHistoryBtn">  
                        <img src="../assets/icons/document-icon.png" alt="Historique" width="16">  
                        Voir historique  
                    </button>  
                </div>  
                  
                <!-- Section limites -->  
                <div class="limits-section">  
                    <h3 class="section-title">Informations sur les limites</h3>  
                      
                    <div class="limits-grid">  
                        <div class="limit-item">  
                            <div class="limit-label">D√©p√¥t quotidien</div>  
                            <div class="limit-value">10,000 HTG</div>  
                            <div class="limit-progress">  
                                <div class="limit-progress-fill" style="width: 15%"></div>  
                            </div>  
                            <div class="form-hint">Utilis√©: 1,500 HTG</div>  
                        </div>  
                          
                        <div class="limit-item">  
                            <div class="limit-label">Retrait quotidien</div>  
                            <div class="limit-value">5,000 HTG</div>  
                            <div class="limit-progress">  
                                <div class="limit-progress-fill" style="width: 0%"></div>  
                            </div>  
                            <div class="form-hint">Utilis√©: 0 HTG</div>  
                        </div>  
                          
                        <div class="limit-item">  
                            <div class="limit-label">D√©p√¥t mensuel</div>  
                            <div class="limit-value">50,000 HTG</div>  
                            <div class="limit-progress">  
                                <div class="limit-progress-fill" style="width: 5%"></div>  
                            </div>  
                            <div class="form-hint">Utilis√©: 2,500 HTG</div>  
                        </div>  
                          
                        <div class="limit-item">  
                            <div class="limit-label">Retrait mensuel</div>  
                            <div class="limit-value">25,000 HTG</div>  
                            <div class="limit-progress">  
                                <div class="limit-progress-fill" style="width: 0%"></div>  
                            </div>  
                            <div class="form-hint">Utilis√©: 0 HTG</div>  
                        </div>  
                    </div>  
                      
                    <div class="form-hint" style="margin-top: var(--space-4);">  
                        <strong>Note:</strong> Les limites augmentent apr√®s v√©rification KYC  
                    </div>  
                </div>  
            </div>
    <!--Tab to edit-->
</tag>
                <!-- ONGLET 2: D√©p√¥t -->
                <div class="tab-content" id="depositTab">
                    <div class="deposit-section">
                        <h3 class="section-title">D√©poser des fonds</h3>
                        <p style="color: var(--color-gray-600); margin-bottom: var(--space-6);">
                            Choisissez une m√©thode de d√©p√¥t et suivez les instructions
                        </p>
                        
                        <!-- M√©thodes de d√©p√¥t -->
                        <div class="deposit-methods">
                            <!-- MonCash -->
                            <div class="method-card" data-method="moncash">
                                <div class="method-icon">
                                    <img src="../assets/logos/moncash-logo.png" alt="MonCash">
                                </div>
                                <div class="method-title">MonCash</div>
                                <div class="method-details">
                                    D√©p√¥t instantan√© ‚Ä¢ Minimum 150 HTG ‚Ä¢ D√©lai 10-30min
                                </div>
                                
                                <div class="method-info hidden">
                                    <div class="info-item">
                                        <span class="info-label">Num√©ro:</span>
                                        <span class="info-value">+509 3944 2808</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Nom:</span>
                                        <span class="info-value">Marco Bien-Aim√©</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Minimum:</span>
                                        <span class="info-value">150 HTG</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">D√©lai:</span>
                                        <span class="info-value">10-30 minutes</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- NatCash -->
                            <div class="method-card" data-method="natcash">
                                <div class="method-icon">
                                    <img src="../assets/logos/natcash-logo.png" alt="NatCash">
                                </div>
                                <div class="method-title">NatCash</div>
                                <div class="method-details">
                                    D√©p√¥t instantan√© ‚Ä¢ Minimum 150 HTG ‚Ä¢ D√©lai 10-30min
                                </div>
                                
                                <div class="method-info hidden">
                                    <div class="info-item">
                                        <span class="info-label">Num√©ro:</span>
                                        <span class="info-value">+509 3574 1778</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Nom:</span>
                                        <span class="info-value">Marco Bien-Aim√©</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Minimum:</span>
                                        <span class="info-value">150 HTG</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">D√©lai:</span>
                                        <span class="info-value">10-30 minutes</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- USDT -->
                            <div class="method-card" data-method="usdt">
                                <div class="method-icon">
                                    <img src="../assets/logos/usdt-logo.png" alt="USDT">
                                </div>
                                <div class="method-title">USDT (TRC20)</div>
                                <div class="method-details">
                                    Crypto-monnaie ‚Ä¢ R√©seau TRC20 ‚Ä¢ D√©lai variable
                                </div>
                                
                                <div class="method-info hidden">
                                    <div class="info-item">
                                        <span class="info-label">Adresse:</span>
                                        <span class="info-value" style="font-size: 0.75rem; word-break: break-all;">
                                            TJHVCbXMBQdtzurHngB1aXSFkR9TWYvZ94
                                        </span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">R√©seau:</span>
                                        <span class="info-value">TRC20 (Tron)</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Minimum:</span>
                                        <span class="info-value">√âquiv. 150 HTG</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">D√©lai:</span>
                                        <span class="info-value">Confirmations blockchain</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Formulaire d√©p√¥t -->
                        <div class="deposit-form" id="depositForm" style="display: none;">
                            <div class="form-group">
                                <label class="form-label" for="amount">Montant √† d√©poser (HTG)</label>
                                <input type="number" 
                                       id="amount" 
                                       class="form-input" 
                                       placeholder="150"
                                       min="150"
                                       step="10">
                                <div class="form-hint">
                                    Minimum: 150 HTG ‚Ä¢ Taux: 1 USD = 150 HTG
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="senderName">Votre nom (exp√©diteur)</label>
                                <input type="text" 
                                       id="senderName" 
                                       class="form-input" 
                                       placeholder="Le nom utilis√© pour le transfert">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="senderAccount">Votre num√©ro (exp√©diteur)</label>
                                <input type="text" 
                                       id="senderAccount" 
                                       class="form-input" 
                                       placeholder="Votre num√©ro MonCash/NatCash">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Preuve de paiement</label>
                                <div class="upload-area" id="uploadArea">
                                    <div class="upload-icon">üìÅ</div>
                                    <div class="upload-text">
                                        Cliquez pour uploader une capture d'√©cran
                                    </div>
                                    <div class="upload-hint">
                                        PNG, JPG ou PDF ‚Ä¢ Max 5MB
                                    </div>
                                    <input type="file" 
                                           id="proofFile" 
                                           accept="image/*,.pdf" 
                                           style="display: none;">
                                </div>
                                <div id="fileName" style="margin-top: var(--space-2); font-size: var(--text-sm); color: var(--color-success); display: none;"></div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="notes">Notes additionnelles (optionnel)</label>
                                <textarea id="notes" 
                                          class="form-input" 
                                          rows="3"
                                          placeholder="Informations suppl√©mentaires..."></textarea>
                            </div>
                            
                            <div style="display: flex; gap: var(--space-4);">
                                <button type="button" class="btn btn-secondary" id="cancelDepositBtn">
                                    Annuler
                                </button>
                                <button type="button" class="btn btn-primary" id="submitDepositBtn">
                                    Soumettre le d√©p√¥t
                                </button>
                            </div>
                        </div>
                        
                        <!-- Instructions g√©n√©rales -->
                        <div style="background: var(--color-primary-very-light); padding: var(--space-6); border-radius: var(--border-radius); margin-top: var(--space-8);">
                            <h4 style="margin-bottom: var(--space-4); font-weight: 600;">Instructions importantes</h4>
                            <ol style="padding-left: var(--space-4);">
                                <li style="margin-bottom: var(--space-2);">
                                    <strong>Effectuez le transfert</strong> vers le num√©ro/adresse indiqu√©
                                </li>
                                <li style="margin-bottom: var(--space-2);">
                                    <strong>Prenez une capture d'√©cran</strong> du transfert r√©ussi
                                </li>
                                <li style="margin-bottom: var(--space-2);">
                                    <strong>Remplissez le formulaire</strong> avec vos informations exactes
                                </li>
                                <li style="margin-bottom: var(--space-2);">
                                    <strong>Uploader la preuve</strong> de paiement
                                </li>
                                <li>
                                    <strong>Attendez la v√©rification</strong> (10-30 minutes pour MonCash/NatCash)
                                </li>
                            </ol>
                            <div style="margin-top: var(--space-4); padding: var(--space-4); background: rgba(255, 255, 255, 0.5); border-radius: var(--border-radius);">
                                <strong>‚ö†Ô∏è Attention:</strong> N'envoyez pas d'argent avant d'avoir s√©lectionn√© une m√©thode et not√© les informations exactes.
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ONGLET 3: Retrait -->
                <div class="tab-content" id="withdrawalTab">
                    <div class="withdrawal-section">
                        <h3 class="section-title">Demander un retrait</h3>
                        <p style="color: var(--color-gray-600); margin-bottom: var(--space-6);">
                            Retirez vos fonds vers votre compte MonCash, NatCash ou bancaire
                        </p>
                        
                        <!-- Formulaire retrait -->
                        <form id="withdrawalForm">
                            <div class="form-group">
                                <label class="form-label" for="withdrawalMethod">M√©thode de retrait</label>
                                <select id="withdrawalMethod" class="form-input" required>
                                    <option value="">S√©lectionnez une m√©thode</option>
                                    <option value="moncash">MonCash</option>
                                    <option value="natcash">NatCash</option>
                                    <option value="bank">Virement bancaire</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="withdrawalAmount">Montant (HTG)</label>
                                <input type="number" 
                                       id="withdrawalAmount" 
                                       class="form-input" 
                                       placeholder="100"
                                       min="100"
                                       max="5000"
                                       required>
                                <div class="form-hint">
                                    Minimum: 100 HTG ‚Ä¢ Maximum: 5,000 HTG (limite quotidienne)
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="recipientNumber">Num√©ro du b√©n√©ficiaire</label>
                                <input type="text" 
                                       id="recipientNumber" 
                                       class="form-input" 
                                       placeholder="+509XXXXXXXX"
                                       required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="recipientName">Nom du b√©n√©ficiaire</label>
                                <input type="text" 
                                       id="recipientName" 
                                       class="form-input" 
                                       placeholder="Nom du compte"
                                       required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="withdrawalWhatsApp">Votre WhatsApp</label>
                                <input type="text" 
                                       id="withdrawalWhatsApp" 
                                       class="form-input" 
                                       placeholder="+509XXXXXXXX"
                                       required>
                                <div class="form-hint">
                                    Pour vous notifier du statut du retrait
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="withdrawalNotes">Notes (optionnel)</label>
                                <textarea id="withdrawalNotes" 
                                          class="form-input" 
                                          rows="2"
                                          placeholder="Informations suppl√©mentaires..."></textarea>
                            </div>
                            
                            <!-- R√©capitulatif -->
                            <div id="withdrawalSummary" style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius); margin-bottom: var(--space-6); display: none;">
                                <h4 style="margin-bottom: var(--space-3); font-weight: 600;">R√©capitulatif</h4>
                                <div class="info-item">
                                    <span class="info-label">Montant:</span>
                                    <span class="info-value" id="summaryAmount">0 HTG</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Frais:</span>
                                    <span class="info-value" id="summaryFees">0 HTG</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">√Ä recevoir:</span>
                                    <span class="info-value" id="summaryNet" style="color: var(--color-success); font-weight: 600;">0 HTG</span>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: var(--space-4);">
                                <button type="button" class="btn btn-secondary" id="cancelWithdrawalBtn">
                                    Annuler
                                </button>
                                <button type="submit" class="btn btn-primary" id="submitWithdrawalBtn">
                                    Soumettre la demande
                                </button>
                            </div>
                        </form>
                        
                        <!-- Informations retrait -->
                        <div style="margin-top: var(--space-8);">
                            <h4 style="margin-bottom: var(--space-4); font-weight: 600;">Informations importantes</h4>
                            <div style="display: grid; gap: var(--space-4);">
                                <div style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius);">
                                    <div style="font-weight: 500; margin-bottom: var(--space-2);">‚è±Ô∏è D√©lais de traitement</div>
                                    <div>‚Ä¢ MonCash/NatCash: 1-24 heures</div>
                                    <div>‚Ä¢ Virement bancaire: 24-48 heures</div>
                                </div>
                                
                                <div style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius);">
                                    <div style="font-weight: 500; margin-bottom: var(--space-2);">üí∞ Frais applicables</div>
                                    <div>‚Ä¢ MonCash/NatCash: 0% (gratuit)</div>
                                    <div>‚Ä¢ Virement bancaire: 1% (minimum 50 HTG)</div>
                                </div>
                                
                                <div style="background: rgba(245, 158, 11, 0.1); padding: var(--space-4); border-radius: var(--border-radius); color: var(--color-warning);">
                                    <div style="font-weight: 500; margin-bottom: var(--space-2);">‚ö†Ô∏è V√©rification requise</div>
                                    <div>Pour les retraits > 1,000 HTG, une v√©rification KYC est requise.</div>
                                    <a href="kyc.html" class="btn btn-sm btn-primary" style="margin-top: var(--space-3);">
                                        V√©rifier mon identit√©
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ONGLET 4: Historique -->
                <div class="tab-content" id="historyTab">
                    <div class="history-section">
                        <div class="history-header">
                            <h3 class="section-title">Historique des transactions</h3>
                            
                            <div class="history-filters">
                                <select class="filter-select" id="filterType">
                                    <option value="all">Tous les types</option>
                                    <option value="deposit">D√©p√¥ts</option>
                                    <option value="withdrawal">Retraits</option>
                                    <option value="purchase">Achats</option>
                                </select>
                                
                                <select class="filter-select" id="filterStatus">
                                    <option value="all">Tous les statuts</option>
                                    <option value="pending">En attente</option>
                                    <option value="completed">Compl√©t√©</option>
                                    <option value="failed">√âchou√©</option>
                                </select>
                                
                                <input type="date" class="filter-select" id="filterDate">
                                
                                <button class="btn btn-secondary" id="exportBtn">
                                    <img src="../assets/icons/download-icon.png" alt="Export" width="14">
                                    Export CSV
                                </button>
                            </div>
                        </div>
                        
                        <!-- Tableau transactions -->
                        <div style="overflow-x: auto;">
                            <table class="transactions-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Description</th>
                                        <th>M√©thode</th>
                                        <th>Montant</th>
                                        <th>Statut</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionsBody">
                                    <!-- Transactions charg√©es dynamiquement -->
                                    <tr>
                                        <td>05/12/2024 14:30</td>
                                        <td>D√©p√¥t MonCash</td>
                                        <td>MonCash</td>
                                        <td class="amount-positive">+1,500 HTG</td>
                                        <td><span class="status-badge status-completed">Compl√©t√©</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-secondary">D√©tails</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>04/12/2024 15:45</td>
                                        <td>Free Fire Diamonds</td>
                                        <td>Achat</td>
                                        <td class="amount-negative">-1,650 HTG</td>
                                        <td><span class="status-badge status-completed">Compl√©t√©</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-secondary">D√©tails</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>03/12/2024 10:20</td>
                                        <td>D√©p√¥t NatCash</td>
                                        <td>NatCash</td>
                                        <td class="amount-positive">+3,000 HTG</td>
                                        <td><span class="status-badge status-completed">Compl√©t√©</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-secondary">D√©tails</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>02/12/2024 16:15</td>
                                        <td>Demande retrait</td>
                                        <td>MonCash</td>
                                        <td class="amount-negative">-500 HTG</td>
                                        <td><span class="status-badge status-pending">En attente</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-secondary">D√©tails</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- √âtat vide -->
                        <div id="emptyHistory" class="empty-state" style="display: none;">
                            <div class="empty-icon">üì≠</div>
                            <h4 style="margin-bottom: var(--space-2); color: var(--color-gray-700);">Aucune transaction</h4>
                            <p style="margin-bottom: var(--space-4);">Vous n'avez effectu√© aucune transaction pour le moment.</p>
                            <a href="#deposit" class="btn btn-primary" data-tab="deposit">
                                Effectuer un premier d√©p√¥t
                            </a>
                        </div>
                        
                        <!-- Pagination -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--space-6);">
                            <div class="form-hint">
                                Affichage de 1 √† 4 sur 4 transactions
                            </div>
                            <div style="display: flex; gap: var(--space-2);">
                                <button class="btn btn-sm btn-secondary" disabled>
                                    Pr√©c√©dent
                                </button>
                                <button class="btn btn-sm btn-secondary">
                                    Suivant
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- MODAL CONFIRMATION D√âP√îT -->
    <div class="modal-overlay" id="confirmDepositModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Confirmer le d√©p√¥t</h3>
                <button class="modal-close" id="closeConfirmDeposit">&times;</button>
            </div>
            
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: var(--space-6);">
                    <div style="font-size: var(--text-3xl); color: var(--color-primary); margin-bottom: var(--space-4);">
                        ‚ö†Ô∏è
                    </div>
                    <h4 style="margin-bottom: var(--space-4);">V√©rifiez les informations</h4>
                    <p style="color: var(--color-gray-600); margin-bottom: var(--space-4);">
                        Assurez-vous d'avoir effectu√© le transfert avant de soumettre.
                    </p>
                </div>
                
                <div id="depositSummary" style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius);">
                    <!-- R√©capitulatif charg√© dynamiquement -->
                </div>
                
                <div style="background: rgba(245, 158, 11, 0.1); padding: var(--space-4); border-radius: var(--border-radius); margin-top: var(--space-6);">
                    <div style="display: flex; align-items: flex-start; gap: var(--space-2);">
                        <span style="color: var(--color-warning);">‚ÑπÔ∏è</span>
                        <div>
                            <div style="font-weight: 500; color: var(--color-warning);">Important:</div>
                            <div style="font-size: var(--text-sm); color: var(--color-warning);">
                                Les d√©p√¥ts frauduleux entra√Æneront la suspension de votre compte.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelConfirmDeposit">
                    Modifier
                </button>
                <button class="btn btn-primary" id="finalConfirmDeposit">
                    Confirmer et soumettre
                </button>
            </div>
        </div>
    </div>
    
    <!-- MODAL SUCC√àS -->
    <div class="modal-overlay" id="successModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Succ√®s</h3>
                <button class="modal-close" id="closeSuccessModal">&times;</button>
            </div>
            
            <div class="modal-body">
                <div style="text-align: center; padding: var(--space-8) var(--space-4);">
                    <div style="font-size: var(--text-3xl); color: var(--color-success); margin-bottom: var(--space-4);">
                        ‚úì
                    </div>
                    <h4 style="margin-bottom: var(--space-4);" id="successTitle">D√©p√¥t soumis avec succ√®s</h4>
                    <p style="color: var(--color-gray-600); margin-bottom: var(--space-4);" id="successMessage">
                        Votre d√©p√¥t a √©t√© soumis pour v√©rification. Vous serez notifi√© par email.
                    </p>
                    <div style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius); margin-top: var(--space-6);">
                        <div style="font-weight: 500; margin-bottom: var(--space-2);">üì± ID Transaction:</div>
                        <div style="font-family: monospace; font-size: var(--text-sm);" id="transactionId">TRX-20241205-001</div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" id="closeSuccessBtn">
                    Fermer
                </button>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT INT√âGR√â -->
    <script>
        // Configuration
        const Wallet = {
            // √âtat
            userData: null,
            selectedDepositMethod: null,
            depositData: {},
            currentTab: 'overview',
            
            // Initialisation
            init: function() {
                console.log('Wallet initialis√©');
                
                // V√©rifier l'authentification
                this.checkAuth();
                
                // √âl√©ments DOM
                this.sidebar = document.getElementById('sidebar');
                this.mobileMenuToggle = document.getElementById('mobileMenuToggle');
                this.tabBtns = document.querySelectorAll('.tab-btn');
                this.tabContents = document.querySelectorAll('.tab-content');
                
                // √âv√©nements
                this.bindEvents();
                
                // Charger les donn√©es utilisateur
                this.loadUserData();
                
                // Mettre √† jour l'interface
                this.updateUI();
                
                // V√©rifier les param√®tres URL
                this.checkUrlParams();
                
                // Charger l'historique
                this.loadTransactionHistory();
            },
            
            // V√©rifier l'authentification
            checkAuth: function() {
                const userId = localStorage.getItem('pf_user_id');
                
                if (!userId) {
                    window.location.href = 'login.html';
                    return;
                }
            },
            
            // Liaison des √©v√©nements
            bindEvents: function() {
                // Menu mobile
                this.mobileMenuToggle.addEventListener('click', () => this.toggleMobileMenu());
                
                // Navigation sidebar
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        if (link.getAttribute('href') === '#') {
                            e.preventDefault();
                        }
                        this.handleNavClick(link);
                    });
                });
                
                // Onglets
                this.tabBtns.forEach(btn => {
                    btn.addEventListener('click', () => this.switchTab(btn.dataset.tab));
                });
                
                // M√©thodes de d√©p√¥t
                document.querySelectorAll('.method-card').forEach(card => {
                    card.addEventListener('click', () => this.selectDepositMethod(card));
                });
                
                // Upload fichier
                const uploadArea = document.getElementById('uploadArea');
                const proofFile = document.getElementById('proofFile');
                
                if (uploadArea && proofFile) {
                    uploadArea.addEventListener('click', () => proofFile.click());
                    proofFile.addEventListener('change', (e) => this.handleFileUpload(e));
                }
                
                // Boutons d√©p√¥t
                const cancelDepositBtn = document.getElementById('cancelDepositBtn');
                const submitDepositBtn = document.getElementById('submitDepositBtn');
                
                if (cancelDepositBtn) cancelDepositBtn.addEventListener('click', () => this.cancelDeposit());
                if (submitDepositBtn) submitDepositBtn.addEventListener('click', () => this.submitDeposit());
                
                // Formulaire retrait
                const withdrawalForm = document.getElementById('withdrawalForm');
                if (withdrawalForm) {
                    withdrawalForm.addEventListener('submit', (e) => this.submitWithdrawal(e));
                }
                
                // Montant retrait
                const withdrawalAmount = document.getElementById('withdrawalAmount');
                if (withdrawalAmount) {
                    withdrawalAmount.addEventListener('input', () => this.updateWithdrawalSummary());
                }
                
                // M√©thode retrait
                const withdrawalMethod = document.getElementById('withdrawalMethod');
                if (withdrawalMethod) {
                    withdrawalMethod.addEventListener('change', () => this.updateWithdrawalSummary());
                }
                
                // Actions rapides
                const quickDepositBtn = document.getElementById('quickDepositBtn');
                const quickWithdrawalBtn = document.getElementById('quickWithdrawalBtn');
                const viewHistoryBtn = document.getElementById('viewHistoryBtn');
                
                if (quickDepositBtn) quickDepositBtn.addEventListener('click', () => this.switchTab('deposit'));
                if (quickWithdrawalBtn) quickWithdrawalBtn.addEventListener('click', () => this.switchTab('withdrawal'));
                if (viewHistoryBtn) viewHistoryBtn.addEventListener('click', () => this.switchTab('history'));
                
                // Modals
                this.bindModalEvents();
                
                // Filtres historique
                const filterType = document.getElementById('filterType');
                const filterStatus = document.getElementById('filterStatus');
                const filterDate = document.getElementById('filterDate');
                
                if (filterType) filterType.addEventListener('change', () => this.filterTransactions());
                if (filterStatus) filterStatus.addEventListener('change', () => this.filterTransactions());
                if (filterDate) filterDate.addEventListener('change', () => this.filterTransactions());
                
                // Export CSV
                const exportBtn = document.getElementById('exportBtn');
                if (exportBtn) exportBtn.addEventListener('click', () => this.exportToCSV());
            },
            
            // Liaison √©v√©nements modals
            bindModalEvents: function() {
                // Modal confirmation d√©p√¥t
                const closeConfirmDeposit = document.getElementById('closeConfirmDeposit');
                const cancelConfirmDeposit = document.getElementById('cancelConfirmDeposit');
                const finalConfirmDeposit = document.getElementById('finalConfirmDeposit');
                
                if (closeConfirmDeposit) closeConfirmDeposit.addEventListener('click', () => this.closeModal('confirmDepositModal'));
                if (cancelConfirmDeposit) cancelConfirmDeposit.addEventListener('click', () => this.closeModal('confirmDepositModal'));
                if (finalConfirmDeposit) finalConfirmDeposit.addEventListener('click', () => this.processDeposit());
                
                // Modal succ√®s
                const closeSuccessModal = document.getElementById('closeSuccessModal');
                const closeSuccessBtn = document.getElementById('closeSuccessBtn');
                
                if (closeSuccessModal) closeSuccessModal.addEventListener('click', () => this.closeModal('successModal'));
                if (closeSuccessBtn) closeSuccessBtn.addEventListener('click', () => this.closeModal('successModal'));
            },
            
            // Charger les donn√©es utilisateur
            loadUserData: function() {
                // Simulation de donn√©es
                this.userData = {
                    firstName: 'John',
                    lastName: 'Doe',
                    email: localStorage.getItem('pf_user_email') || 'john@exemple.com',
                    balance: 1850,
                    kycStatus: 'pending',
                    currency: 'HTG',
                    exchangeRate: 150,
                    limits: {
                        dailyDeposit: 10000,
                        dailyWithdrawal: 5000,
                        monthlyDeposit: 50000,
                        monthlyWithdrawal: 25000
                    }
                };
                
                // R√©cup√©rer depuis Firebase si disponible
                const userId = localStorage.getItem('pf_user_id');
                if (window.firebaseUtils && userId) {
                    window.firebaseUtils.getUserData(userId)
                        .then(data => {
                            if (data) {
                                this.userData = { ...this.userData, ...data };
                                this.updateUI();
                            }
                        })
                        .catch(error => {
                            console.warn('Erreur chargement donn√©es Firebase:', error);
                        });
                }
            },
            
            // Mettre √† jour l'interface
            updateUI: function() {
                // Informations utilisateur
                const userName = this.userData?.firstName || 'Utilisateur';
                const userFullName = this.userData?.firstName && this.userData?.lastName 
                    ? `${this.userData.firstName} ${this.userData.lastName}`
                    : 'Utilisateur PayFusion';
                
                document.getElementById('userName').textContent = userFullName;
                document.getElementById('userEmail').textContent = this.userData?.email || 'email@exemple.com';
                
                // Initiales avatar
                const avatarInitials = userName.charAt(0).toUpperCase() + (this.userData?.lastName?.charAt(0) || '').toUpperCase();
                document.getElementById('userAvatar').textContent = avatarInitials;
                
                // Solde
                this.updateBalance();
                
                // Statut KYC
                this.updateKYCStatus();
                
                // Limites
                this.updateLimits();
            },
            
            // Mettre √† jour le solde
            updateBalance: function() {
                const balance = this.userData?.balance || 0;
                const exchangeRate = this.userData?.exchangeRate || 150;
                const balanceUSD = balance / exchangeRate;
                
                // Formater les montants
                const formattedBalance = this.formatCurrency(balance, 'HTG');
                const formattedUSD = this.formatCurrency(balanceUSD, 'USD', true);
                
                // Mettre √† jour l'interface
                document.getElementById('balanceAmount').textContent = formattedBalance;
                document.getElementById('htgBalance').textContent = this.formatCurrency(balance, 'HTG', false);
                document.getElementById('usdBalance').textContent = formattedUSD;
                document.getElementById('usdtBalance').textContent = '0.00';
            },
            
            // Mettre √† jour le statut KYC
            updateKYCStatus: function() {
                const kycStatus = this.userData?.kycStatus || 'pending';
                const kycBadge = document.getElementById('kycStatusBadge');
                
                if (!kycBadge) return;
                
                kycBadge.className = 'status-badge status-' + kycStatus;
                kycBadge.textContent = `KYC: ${
                    kycStatus === 'pending' ? 'En attente' :
                    kycStatus === 'verified' ? 'V√©rifi√©' :
                    kycStatus === 'rejected' ? 'Rejet√©' : 'Inconnu'
                }`;
            },
            
            // Mettre √† jour les limites
            updateLimits: function() {
                const limits = this.userData?.limits || {
                    dailyDeposit: 10000,
                    dailyWithdrawal: 5000,
                    monthlyDeposit: 50000,
                    monthlyWithdrawal: 25000
                };
                
                // Calculer les pourcentages utilis√©s (simulation)
                const usedDeposit = 1500; // HTG d√©j√† d√©pos√©s aujourd'hui
                const depositPercent = (usedDeposit / limits.dailyDeposit) * 100;
                
                // Mettre √† jour les barres de progression
                const depositProgress = document.querySelector('.limit-progress-fill');
                if (depositProgress) {
                    depositProgress.style.width = `${Math.min(depositPercent, 100)}%`;
                }
            },
            
            // Basculer menu mobile
            toggleMobileMenu: function() {
                this.sidebar.classList.toggle('mobile-open');
                const spans = this.mobileMenuToggle.querySelectorAll('span');
                
                if (this.sidebar.classList.contains('mobile-open')) {
                    spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
                    spans[1].style.opacity = '0';
                    spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
                } else {
                    spans[0].style.transform = 'none';
                    spans[1].style.opacity = '1';
                    spans[2].style.transform = 'none';
                }
            },
            
            // G√©rer clic navigation
            handleNavClick: function(link) {
                // Mettre √† jour les checkboxes
                document.querySelectorAll('.nav-link').forEach(navLink => {
                    navLink.classList.remove('active');
                    navLink.querySelector('.nav-checkbox').classList.remove('checked');
                });
                
                link.classList.add('active');
                link.querySelector('.nav-checkbox').classList.add('checked');
                
                // Fermer menu mobile si ouvert
                if (this.sidebar.classList.contains('mobile-open')) {
                    this.toggleMobileMenu();
                }
            },
            
            // Changer d'onglet
            switchTab: function(tab) {
                // Mettre √† jour les boutons d'onglets
                this.tabBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.tab === tab);
                });
                
                // Mettre √† jour le contenu des onglets
                this.tabContents.forEach(content => {
                    content.classList.toggle('active', content.id === `${tab}Tab`);
                });
                
                // Sauvegarder l'onglet actuel
                this.currentTab = tab;
                
                // Scroll vers le haut
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Actions sp√©cifiques par onglet
                if (tab === 'deposit') {
                    this.resetDepositForm();
                } else if (tab === 'withdrawal') {
                    this.resetWithdrawalForm();
                }
            },
            
            // S√©lectionner m√©thode de d√©p√¥t
            selectDepositMethod: function(card) {
                // D√©s√©lectionner toutes les m√©thodes
                document.querySelectorAll('.method-card').forEach(method => {
                    method.classList.remove('selected');
                    method.querySelector('.method-info').classList.add('hidden');
                });
                
                // S√©lectionner la m√©thode cliqu√©e
                card.classList.add('selected');
                card.querySelector('.method-info').classList.remove('hidden');
                
                // Sauvegarder la s√©lection
                this.selectedDepositMethod = card.dataset.method;
                
                // Afficher le formulaire de d√©p√¥t
                document.getElementById('depositForm').style.display = 'block';
                
                // Scroll vers le formulaire
                setTimeout(() => {
                    document.getElementById('depositForm').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }, 300);
            },
            
            // G√©rer upload fichier
            handleFileUpload: function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                // V√©rifier la taille (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    alert('Le fichier est trop volumineux. Maximum 5MB.');
                    return;
                }
                
                // V√©rifier le type
                const validTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf'];
                if (!validTypes.includes(file.type)) {
                    alert('Format de fichier non support√©. Utilisez JPG, PNG ou PDF.');
                    return;
                }
                
                // Afficher le nom du fichier
                const fileName = document.getElementById('fileName');
                fileName.textContent = `‚úì ${file.name} (${this.formatFileSize(file.size)})`;
                fileName.style.display = 'block';
                
                // Sauvegarder le fichier
                this.depositData.proofFile = file;
                
                // Changer le style de la zone d'upload
                const uploadArea = document.getElementById('uploadArea');
                uploadArea.style.borderColor = 'var(--color-success)';
                uploadArea.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
            },
            
            // Annuler d√©p√¥t
            cancelDeposit: function() {
                this.resetDepositForm();
                this.switchTab('overview');
            },
            
            // R√©initialiser formulaire d√©p√¥t
            resetDepositForm: function() {
                // D√©s√©lectionner toutes les m√©thodes
                document.querySelectorAll('.method-card').forEach(method => {
                    method.classList.remove('selected');
                    method.querySelector('.method-info').classList.add('hidden');
                });
                
                // Masquer le formulaire
                document.getElementById('depositForm').style.display = 'none';
                
                // R√©initialiser les champs
                document.getElementById('amount').value = '';
                document.getElementById('senderName').value = '';
                document.getElementById('senderAccount').value = '';
                document.getElementById('notes').value = '';
                
                // R√©initialiser le fichier
                const proofFile = document.getElementById('proofFile');
                if (proofFile) proofFile.value = '';
                
                const fileName = document.getElementById('fileName');
                fileName.style.display = 'none';
                
                const uploadArea = document.getElementById('uploadArea');
                uploadArea.style.borderColor = '';
                uploadArea.style.backgroundColor = '';
                
                // R√©initialiser les donn√©es
                this.selectedDepositMethod = null;
                this.depositData = {};
            },
            
            // Soumettre d√©p√¥t
            submitDeposit: function() {
                // Validation
                if (!this.validateDepositForm()) {
                    return;
                }
                
                // Collecter les donn√©es
                this.depositData.amount = parseFloat(document.getElementById('amount').value);
                this.depositData.senderName = document.getElementById('senderName').value.trim();
                this.depositData.senderAccount = document.getElementById('senderAccount').value.trim();
                this.depositData.notes = document.getElementById('notes').value.trim();
                this.depositData.method = this.selectedDepositMethod;
                this.depositData.timestamp = new Date().toISOString();
                
                // Afficher le r√©capitulatif
                this.showDepositSummary();
                
                // Ouvrir le modal de confirmation
                this.openModal('confirmDepositModal');
            },
            
            // Valider formulaire d√©p√¥t
            validateDepositForm: function() {
                let isValid = true;
                const errors = [];
                
                // V√©rifier la m√©thode
                if (!this.selectedDepositMethod) {
                    errors.push('Veuillez s√©lectionner une m√©thode de d√©p√¥t');
                    isValid = false;
                }
                
                // V√©rifier le montant
                const amount = parseFloat(document.getElementById('amount').value);
                if (!amount || amount < 150) {
                    errors.push('Le montant minimum est de 150 HTG');
                    isValid = false;
                }
                
                // V√©rifier le nom
                const senderName = document.getElementById('senderName').value.trim();
                if (!senderName) {
                    errors.push('Veuillez entrer votre nom');
                    isValid = false;
                }
                
                // V√©rifier le num√©ro
                const senderAccount = document.getElementById('senderAccount').value.trim();
                if (!senderAccount) {
                    errors.push('Veuillez entrer votre num√©ro');
                    isValid = false;
                }
                
                // V√©rifier le fichier
                if (!this.depositData.proofFile) {
                    errors.push('Veuillez uploader une preuve de paiement');
                    isValid = false;
                }
                
                // Afficher les erreurs
                if (errors.length > 0) {
                    alert(errors.join('\n'));
                }
                
                return isValid;
            },
            
            // Afficher le r√©capitulatif d√©p√¥t
            showDepositSummary: function() {
                const summaryDiv = document.getElementById('depositSummary');
                const methodNames = {
                    moncash: 'MonCash',
                    natcash: 'NatCash',
                    usdt: 'USDT (TRC20)'
                };
                
                summaryDiv.innerHTML = `
                    <div class="info-item">
                        <span class="info-label">M√©thode:</span>
                        <span class="info-value">${methodNames[this.depositData.method]}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Montant:</span>
                        <span class="info-value">${this.formatCurrency(this.depositData.amount, 'HTG')}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Votre nom:</span>
                        <span class="info-value">${this.depositData.senderName}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Votre num√©ro:</span>
                        <span class="info-value">${this.depositData.senderAccount}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Fichier:</span>
                        <span class="info-value">${this.depositData.proofFile.name}</span>
                    </div>
                `;
            },
            
            // Traiter le d√©p√¥t
            processDeposit: function() {
                // Fermer le modal de confirmation
                this.closeModal('confirmDepositModal');
                
                // Simulation de traitement
                const submitBtn = document.getElementById('submitDepositBtn');
                const originalText = submitBtn.innerHTML;
                
                submitBtn.innerHTML = '<span class="spinner"></span> Traitement...';
                submitBtn.disabled = true;
                
                // Simuler d√©lai r√©seau
                setTimeout(() => {
                    // G√©n√©rer un ID de transaction
                    const transactionId = 'TRX-' + Date.now().toString().slice(-8);
                    
                    // Mettre √† jour le solde (simulation)
                    this.userData.balance += this.depositData.amount;
                    this.updateBalance();
                    
                    // Afficher le modal de succ√®s
                    document.getElementById('successTitle').textContent = 'D√©p√¥t soumis avec succ√®s';
                    document.getElementById('successMessage').textContent = 'Votre d√©p√¥t a √©t√© soumis pour v√©rification. Vous serez notifi√© par email.';
                    document.getElementById('transactionId').textContent = transactionId;
                    
                    this.openModal('successModal');
                    
                    // R√©initialiser le formulaire
                    this.resetDepositForm();
                    
                    // Restaurer le bouton
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Ajouter √† l'historique
                    this.addToTransactionHistory({
                        id: transactionId,
                        type: 'deposit',
                        method: this.depositData.method,
                        amount: this.depositData.amount,
                        status: 'pending',
                        date: new Date().toLocaleString()
                    });
                    
                }, 2000);
            },
            
            // Soumettre retrait
            submitWithdrawal: function(e) {
                e.preventDefault();
                
                // Validation
                if (!this.validateWithdrawalForm()) {
                    return;
                }
                
                // Collecter les donn√©es
                const withdrawalData = {
                    method: document.getElementById('withdrawalMethod').value,
                    amount: parseFloat(document.getElementById('withdrawalAmount').value),
                    recipientNumber: document.getElementById('recipientNumber').value.trim(),
                    recipientName: document.getElementById('recipientName').value.trim(),
                    whatsapp: document.getElementById('withdrawalWhatsApp').value.trim(),
                    notes: document.getElementById('withdrawalNotes').value.trim(),
                    timestamp: new Date().toISOString()
                };
                
                // V√©rifier le solde
                if (withdrawalData.amount > this.userData.balance) {
                    alert('Solde insuffisant');
                    return;
                }
                
                // V√©rifier les limites
                if (withdrawalData.amount > this.userData.limits.dailyWithdrawal) {
                    alert(`Limite quotidienne d√©pass√©e. Maximum: ${this.formatCurrency(this.userData.limits.dailyWithdrawal, 'HTG')}`);
                    return;
                }
                
                // Demander confirmation
                if (!confirm(`Confirmer le retrait de ${this.formatCurrency(withdrawalData.amount, 'HTG')} vers ${withdrawalData.recipientNumber}?`)) {
                    return;
                }
                
                // Simulation de traitement
                const submitBtn = document.getElementById('submitWithdrawalBtn');
                const originalText = submitBtn.innerHTML;
                
                submitBtn.innerHTML = '<span class="spinner"></span> Traitement...';
                submitBtn.disabled = true;
                
                // Simuler d√©lai r√©seau
                setTimeout(() => {
                    // Mettre √† jour le solde (simulation)
                    this.userData.balance -= withdrawalData.amount;
                    this.updateBalance();
                    
                    // Afficher succ√®s
                    alert(`Demande de retrait soumise! Traitement sous 1-24 heures.`);
                    
                    // R√©initialiser le formulaire
                    this.resetWithdrawalForm();
                    
                    // Restaurer le bouton
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Ajouter √† l'historique
                    this.addToTransactionHistory({
                        id: 'WTH-' + Date.now().toString().slice(-8),
                        type: 'withdrawal',
                        method: withdrawalData.method,
                        amount: -withdrawalData.amount,
                        status: 'pending',
                        date: new Date().toLocaleString()
                    });
                    
                }, 1500);
            },
            
            // Valider formulaire retrait
            validateWithdrawalForm: function() {
                let isValid = true;
                const errors = [];
                
                // V√©rifier la m√©thode
                const method = document.getElementById('withdrawalMethod').value;
                if (!method) {
                    errors.push('Veuillez s√©lectionner une m√©thode de retrait');
                    isValid = false;
                }
                
                // V√©rifier le montant
                const amount = parseFloat(document.getElementById('withdrawalAmount').value);
                if (!amount || amount < 100) {
                    errors.push('Le montant minimum est de 100 HTG');
                    isValid = false;
                }
                
                // V√©rifier le num√©ro
                const recipientNumber = document.getElementById('recipientNumber').value.trim();
                if (!recipientNumber) {
                    errors.push('Veuillez entrer le num√©ro du b√©n√©ficiaire');
                    isValid = false;
                }
                
                // V√©rifier le nom
                const recipientName = document.getElementById('recipientName').value.trim();
                if (!recipientName) {
                    errors.push('Veuillez entrer le nom du b√©n√©ficiaire');
                    isValid = false;
                }
                
                // V√©rifier WhatsApp
                const whatsapp = document.getElementById('withdrawalWhatsApp').value.trim();
                if (!whatsapp) {
                    errors.push('Veuillez entrer votre num√©ro WhatsApp');
                    isValid = false;
                }
                
                // Afficher les erreurs
                if (errors.length > 0) {
                    alert(errors.join('\n'));
                }
                
                return isValid;
            },
            
            // Mettre √† jour le r√©capitulatif retrait
            updateWithdrawalSummary: function() {
                const amount = parseFloat(document.getElementById('withdrawalAmount').value) || 0;
                const method = document.getElementById('withdrawalMethod').value;
                
                if (amount <= 0 || !method) {
                    document.getElementById('withdrawalSummary').style.display = 'none';
                    return;
                }
                
                // Calculer les frais
                let fees = 0;
                if (method === 'bank') {
                    fees = Math.max(amount * 0.01, 50); // 1% avec minimum 50 HTG
                }
                
                const netAmount = amount - fees;
                
                // Mettre √† jour l'affichage
                document.getElementById('summaryAmount').textContent = this.formatCurrency(amount, 'HTG');
                document.getElementById('summaryFees').textContent = this.formatCurrency(fees, 'HTG');
                document.getElementById('summaryNet').textContent = this.formatCurrency(netAmount, 'HTG');
                
                // Afficher le r√©capitulatif
                document.getElementById('withdrawalSummary').style.display = 'block';
            },
            
            // R√©initialiser formulaire retrait
            resetWithdrawalForm: function() {
                const form = document.getElementById('withdrawalForm');
                if (form) form.reset();
                document.getElementById('withdrawalSummary').style.display = 'none';
            },
            
            // Charger l'historique des transactions
            loadTransactionHistory: function() {
                // Simulation d'historique
                const transactions = [
                    {
                        id: 'TRX-001',
                        date: '05/12/2024 14:30',
                        description: 'D√©p√¥t MonCash',
                        method: 'MonCash',
                        amount: 1500,
                        status: 'completed'
                    },
                    {
                        id: 'TRX-002',
                        date: '04/12/2024 15:45',
                        description: 'Free Fire Diamonds',
                        method: 'Achat',
                        amount: -1650,
                        status: 'completed'
                    },
                    {
                        id: 'TRX-003',
                        date: '03/12/2024 10:20',
                        description: 'D√©p√¥t NatCash',
                        method: 'NatCash',
                        amount: 3000,
                        status: 'completed'
                    },
                    {
                        id: 'WTH-001',
                        date: '02/12/2024 16:15',
                        description: 'Demande retrait',
                        method: 'MonCash',
                        amount: -500,
                        status: 'pending'
                    }
                ];
                
                // Afficher dans le tableau
                this.displayTransactions(transactions);
            },
            
            // Afficher les transactions
            displayTransactions: function(transactions) {
                const tbody = document.getElementById('transactionsBody');
                if (!tbody) return;
                
                // Vider le tableau
                tbody.innerHTML = '';
                
                // Afficher l'√©tat vide si aucune transaction
                if (transactions.length === 0) {
                    document.getElementById('emptyHistory').style.display = 'block';
                    return;
                }
                
                document.getElementById('emptyHistory').style.display = 'none';
                
                // Ajouter chaque transaction
                transactions.forEach(transaction => {
                    const row = document.createElement('tr');
                    
                    // D√©terminer la classe du montant
                    const amountClass = transaction.amount > 0 ? 'amount-positive' : 'amount-negative';
                    const amountSign = transaction.amount > 0 ? '+' : '';
                    
                    // D√©terminer le badge de statut
                    const statusClass = `status-${transaction.status}`;
                    const statusText = transaction.status === 'completed' ? 'Compl√©t√©' :
                                      transaction.status === 'pending' ? 'En attente' : '√âchou√©';
                    
                    row.innerHTML = `
                        <td>${transaction.date}</td>
                        <td>${transaction.description}</td>
                        <td>${transaction.method}</td>
                        <td class="${amountClass}">${amountSign}${this.formatCurrency(Math.abs(transaction.amount), 'HTG')}</td>
                        <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                        <td>
                            <button class="btn btn-sm btn-secondary" onclick="Wallet.viewTransactionDetails('${transaction.id}')">
                                D√©tails
                            </button>
                        </td>
                    `;
                    
                    tbody.appendChild(row);
                });
            },
            
            // Filtrer les transactions
            filterTransactions: function() {
                // Simulation de filtrage
                console.log('Filtrage des transactions');
                // En production, on ferait une requ√™te √† l'API
            },
            
            // Ajouter une transaction √† l'historique
            addToTransactionHistory: function(transaction) {
                // Ajouter au tableau
                const tbody = document.getElementById('transactionsBody');
                if (!tbody) return;
                
                // Cr√©er la nouvelle ligne
                const row = document.createElement('tr');
                
                const amountClass = transaction.amount > 0 ? 'amount-positive' : 'amount-negative';
                const amountSign = transaction.amount > 0 ? '+' : '';
                
                const statusClass = `status-${transaction.status}`;
                const statusText = transaction.status === 'completed' ? 'Compl√©t√©' :
                                  transaction.status === 'pending' ? 'En attente' : '√âchou√©';
                
                row.innerHTML = `
                    <td>${transaction.date}</td>
                    <td>${transaction.type === 'deposit' ? 'D√©p√¥t ' + transaction.method.toUpperCase() : 
                          transaction.type === 'withdrawal' ? 'Retrait ' + transaction.method.toUpperCase() : 
                          transaction.description}</td>
                    <td>${transaction.method}</td>
                    <td class="${amountClass}">${amountSign}${this.formatCurrency(Math.abs(transaction.amount), 'HTG')}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <button class="btn btn-sm btn-secondary" onclick="Wallet.viewTransactionDetails('${transaction.id}')">
                            D√©tails
                        </button>
                    </td>
                `;
                
                // Ajouter en haut du tableau
                tbody.insertBefore(row, tbody.firstChild);
                
                // Masquer l'√©tat vide
                document.getElementById('emptyHistory').style.display = 'none';
            },
            
            // Voir les d√©tails d'une transaction
            viewTransactionDetails: function(transactionId) {
                alert(`D√©tails de la transaction ${transactionId}\n\nCette fonctionnalit√© sera impl√©ment√©e dans une version future.`);
            },
            
            // Exporter en CSV
            exportToCSV: function() {
                // Simulation d'export
                alert('Export CSV - Cette fonctionnalit√© sera impl√©ment√©e dans une version future.');
            },
            
            // V√©rifier les param√®tres URL
            checkUrlParams: function() {
                const urlParams = new URLSearchParams(window.location.search);
                const depositMethod = urlParams.get('deposit');
                const depositAmount = urlParams.get('amount');
                
                if (depositMethod && depositAmount) {
                    // Rediriger vers l'onglet d√©p√¥t
                    this.switchTab('deposit');
                    
                    // S√©lectionner automatiquement la m√©thode
                    setTimeout(() => {
                        const methodCard = document.querySelector(`.method-card[data-method="${depositMethod}"]`);
                        if (methodCard) {
                            methodCard.click();
                            document.getElementById('amount').value = depositAmount;
                        }
                    }, 500);
                }
            },
            
            // Ouvrir un modal
            openModal: function(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            },
            
            // Fermer un modal
            closeModal: function(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            },
            
            // Formater la monnaie
            formatCurrency: function(amount, currency = 'HTG', withSymbol = true) {
                const options = {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 2
                };
                
                if (currency === 'HTG') {
                    return new Intl.NumberFormat('fr-HT', options).format(amount) + (withSymbol ? ' HTG' : '');
                } else {
                    options.style = 'currency';
                    options.currency = 'USD';
                    return new Intl.NumberFormat('en-US', options).format(amount);
                }
            },
            
            // Formater la taille de fichier
            formatFileSize: function(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
        };
        
        // Initialiser le portefeuille
        document.addEventListener('DOMContentLoaded', function() {
            Wallet.init();
        });
        
        // Ajouter l'animation spinner si n√©cessaire
        if (!document.querySelector('#spinner-animation')) {
            const style = document.createElement('style');
            style.id = 'spinner-animation';
            style.textContent = `
                .spinner {
                    display: inline-block;
                    width: 16px;
                    height: 16px;
                    border: 2px solid currentColor;
                    border-top-color: transparent;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                    margin-right: 8px;
                }
                
                @keyframes spin {
                    to { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
        }
    </script>
    
    <!-- Librairies externes -->
    <script src="../firebase-config.js"></script>
    <script src="../emailjs-config.js"></script>
</body>
</html>














home.html












<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayFusion - Tableau de bord</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../assets/logos/payfusion-logo-icon.png">
    
    <!-- STYLE CSS INT√âGR√â -->
    <style>
        /* ==========================================================================
           VARIABLES
           ========================================================================== */
        
        :root {
            --color-primary: #2563eb;
            --color-primary-light: #3b82f6;
            --color-primary-very-light: #dbeafe;
            --color-gaming: #f97316;
            --color-streaming: #8b5cf6;
            --color-finance: #0ea5e9;
            --color-white: #ffffff;
            --color-gray-50: #f8fafc;
            --color-gray-100: #f1f5f9;
            --color-gray-200: #e2e8f0;
            --color-gray-300: #cbd5e1;
            --color-gray-400: #94a3b8;
            --color-gray-500: #64748b;
            --color-gray-600: #475569;
            --color-gray-700: #334155;
            --color-gray-800: #1e293b;
            --color-gray-900: #0f172a;
            --color-success: #10b981;
            --color-error: #ef4444;
            --color-warning: #f59e0b;
            --font-family: 'Inter', sans-serif;
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --border-radius: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
        }
        
        /* ==========================================================================
           RESET
           ========================================================================== */
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html, body {
            height: 100%;
        }
        
        body {
            font-family: var(--font-family);
            font-size: var(--text-sm);
            line-height: 1.5;
            color: var(--color-gray-700);
            background-color: var(--color-gray-50);
        }
        
        /* ==========================================================================
           LAYOUT DASHBOARD
           ========================================================================== */
        
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* ==========================================================================
           SIDEBAR
           ========================================================================== */
        
        .sidebar {
            width: 280px;
            background-color: var(--color-white);
            border-right: 1px solid var(--color-gray-200);
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: 100;
            transition: transform var(--transition-normal);
        }
        
        .sidebar-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--color-gray-200);
        }
        
        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-6);
        }
        
        .sidebar-logo img {
            height: 32px;
            width: auto;
        }
        
        .sidebar-logo h1 {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--color-gray-900);
            margin: 0;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-white);
            font-weight: 600;
            font-size: var(--text-base);
        }
        
        .user-details {
            flex: 1;
            overflow: hidden;
        }
        
        .user-name {
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .user-email {
            font-size: var(--text-xs);
            color: var(--color-gray-500);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .sidebar-nav {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-4) 0;
        }
        
        .nav-section {
            margin-bottom: var(--space-6);
        }
        
        .nav-section-title {
            font-size: var(--text-xs);
            font-weight: 600;
            color: var(--color-gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0 var(--space-6) var(--space-2);
            margin-bottom: var(--space-2);
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 2px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-6);
            color: var(--color-gray-700);
            text-decoration: none;
            transition: all var(--transition-fast);
            position: relative;
        }
        
        .nav-link:hover {
            background-color: var(--color-gray-50);
            color: var(--color-primary);
        }
        
        .nav-link.active {
            background-color: var(--color-primary-very-light);
            color: var(--color-primary);
            font-weight: 500;
        }
        
        .nav-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: var(--color-primary);
        }
        
        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .nav-icon img {
            width: 16px;
            height: 16px;
        }
        
        .nav-text {
            flex: 1;
        }
        
        .nav-badge {
            background-color: var(--color-gray-200);
            color: var(--color-gray-700);
            font-size: var(--text-xs);
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 500;
        }
        
        .nav-link.active .nav-badge {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        
        /* Checkboxes style NextPlay */
        .nav-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--color-gray-400);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all var(--transition-fast);
        }
        
        .nav-link.active .nav-checkbox {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }
        
        .nav-link.active .nav-checkbox::after {
            content: "‚úì";
            color: var(--color-white);
            font-size: 12px;
            font-weight: bold;
        }
        
        .sidebar-footer {
            padding: var(--space-4) var(--space-6);
            border-top: 1px solid var(--color-gray-200);
            margin-top: auto;
        }
        
        /* ==========================================================================
           CONTENU PRINCIPAL
           ========================================================================== */
        
        .main-content {
            flex: 1;
            margin-left: 280px;
            transition: margin-left var(--transition-normal);
        }
        
        /* Header principal */
        .main-header {
            background-color: var(--color-white);
            border-bottom: 1px solid var(--color-gray-200);
            padding: var(--space-4) var(--space-6);
            position: sticky;
            top: 0;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }
        
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: var(--space-2);
        }
        
        .mobile-menu-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background-color: var(--color-gray-700);
            margin: 4px 0;
            transition: var(--transition-normal);
        }
        
        .page-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--color-gray-900);
            margin: 0;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        /* Bouton menu utilisateur */
        .user-menu-btn {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            background: none;
            border: 1px solid var(--color-gray-300);
            border-radius: var(--border-radius-md);
            padding: var(--space-2) var(--space-3);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .user-menu-btn:hover {
            background-color: var(--color-gray-50);
            border-color: var(--color-gray-400);
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-menu-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 200px;
            background-color: var(--color-white);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            margin-top: var(--space-2);
            display: none;
            z-index: 1000;
        }
        
        .user-menu-dropdown.show {
            display: block;
            animation: fadeInUp 0.2s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-menu-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            color: var(--color-gray-700);
            text-decoration: none;
            transition: background-color var(--transition-fast);
        }
        
        .user-menu-item:hover {
            background-color: var(--color-gray-50);
        }
        
        .user-menu-divider {
            height: 1px;
            background-color: var(--color-gray-200);
            margin: var(--space-2) 0;
        }
        
        /* ==========================================================================
           CONTENU DASHBOARD
           ========================================================================== */
        
        .dashboard-content {
            padding: var(--space-6);
        }
        
        /* Grille dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--space-6);
            margin-bottom: var(--space-6);
        }
        
        /* Carte de bienvenue */
        .welcome-card {
            grid-column: span 12;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: var(--color-white);
            border-radius: var(--border-radius-lg);
            padding: var(--space-8);
            position: relative;
            overflow: hidden;
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .welcome-title {
            font-size: var(--text-2xl);
            font-weight: 600;
            margin-bottom: var(--space-2);
            color: var(--color-white);
        }
        
        .welcome-subtitle {
            opacity: 0.9;
            margin-bottom: var(--space-4);
        }
        
        /* Carte solde */
        .balance-card {
            grid-column: span 12;
            background-color: var(--color-white);
            border-radius: var(--border-radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow);
            border: 1px solid var(--color-gray-200);
        }
        
        @media (min-width: 768px) {
            .welcome-card {
                grid-column: span 8;
            }
            
            .balance-card {
                grid-column: span 4;
            }
        }
        
        .balance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }
        
        .balance-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--color-gray-800);
            margin: 0;
        }
        
        .balance-amount {
            font-size: var(--text-3xl);
            font-weight: 700;
            color: var(--color-gray-900);
            margin-bottom: var(--space-2);
        }
        
        .balance-subtitle {
            color: var(--color-gray-500);
            font-size: var(--text-sm);
        }
        
        .balance-actions {
            display: flex;
            gap: var(--space-3);
            margin-top: var(--space-4);
        }
        
        /* Boutons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--border-radius-md);
            font-weight: 500;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            border: none;
            outline: none;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        
        .btn-primary:hover {
            background-color: var(--color-primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-secondary {
            background-color: var(--color-white);
            color: var(--color-gray-700);
            border: 1px solid var(--color-gray-300);
        }
        
        .btn-secondary:hover {
            background-color: var(--color-gray-50);
            border-color: var(--color-gray-400);
        }
        
        .btn-success {
            background-color: var(--color-success);
            color: var(--color-white);
        }
        
        .btn-sm {
            padding: var(--space-2) var(--space-4);
            font-size: var(--text-xs);
        }
        
        /* Services rapides */
        .quick-services {
            grid-column: span 12;
            margin-bottom: var(--space-6);
        }
        
        .section-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: var(--space-4);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
        }
        
        @media (min-width: 640px) {
            .services-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .service-item {
            background-color: var(--color-white);
            border-radius: var(--border-radius);
            padding: var(--space-4);
            text-align: center;
            border: 1px solid var(--color-gray-200);
            transition: all var(--transition-normal);
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }
        
        .service-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
            border-color: var(--color-primary);
        }
        
        .service-icon {
            width: 48px;
            height: 48px;
            background-color: var(--color-gray-100);
            border-radius: var(--border-radius);
            margin: 0 auto var(--space-3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .service-icon img {
            width: 24px;
            height: 24px;
        }
        
        .service-name {
            font-weight: 500;
            color: var(--color-gray-800);
            margin-bottom: var(--space-1);
        }
        
        .service-desc {
            font-size: var(--text-xs);
            color: var(--color-gray-500);
        }
        
        /* Activit√© r√©cente */
        .recent-activity {
            grid-column: span 12;
        }
        
        .activity-list {
            background-color: var(--color-white);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-gray-200);
            overflow: hidden;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-4);
            border-bottom: 1px solid var(--color-gray-200);
            transition: background-color var(--transition-fast);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-item:hover {
            background-color: var(--color-gray-50);
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .activity-icon.deposit {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--color-success);
        }
        
        .activity-icon.withdrawal {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--color-error);
        }
        
        .activity-icon.purchase {
            background-color: rgba(59, 130, 246, 0.1);
            color: var(--color-primary);
        }
        
        .activity-details {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 500;
            color: var(--color-gray-800);
            margin-bottom: 2px;
        }
        
        .activity-description {
            font-size: var(--text-xs);
            color: var(--color-gray-500);
        }
        
        .activity-amount {
            font-weight: 600;
            color: var(--color-gray-900);
        }
        
        .activity-amount.positive {
            color: var(--color-success);
        }
        
        .activity-amount.negative {
            color: var(--color-error);
        }
        
        .activity-time {
            font-size: var(--text-xs);
            color: var(--color-gray-500);
            text-align: right;
            min-width: 80px;
        }
        
        /* Badge KYC */
        .kyc-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            border-radius: 20px;
            font-size: var(--text-xs);
            font-weight: 500;
        }
        
        .kyc-badge.pending {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--color-warning);
        }
        
        .kyc-badge.verified {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--color-success);
        }
        
        .kyc-badge.rejected {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--color-error);
        }
        
        /* ==========================================================================
           MODAL D√âP√îT RAPIDE
           ========================================================================== */
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: var(--space-4);
            opacity: 0;
            pointer-events: none;
            transition: opacity var(--transition-normal);
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal {
            background-color: var(--color-white);
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            transform: translateY(20px);
            transition: transform var(--transition-normal);
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--color-gray-200);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--color-gray-900);
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: var(--text-2xl);
            color: var(--color-gray-500);
            cursor: pointer;
            padding: var(--space-1);
            line-height: 1;
        }
        
        .modal-close:hover {
            color: var(--color-gray-700);
        }
        
        .modal-body {
            padding: var(--space-6);
        }
        
        .modal-footer {
            padding: var(--space-6);
            border-top: 1px solid var(--color-gray-200);
            display: flex;
            justify-content: flex-end;
            gap: var(--space-3);
        }
        
        /* ==========================================================================
           RESPONSIVE
           ========================================================================== */
        
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .user-menu-btn span:last-child {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-content {
                padding: var(--space-4);
            }
            
            .dashboard-grid {
                gap: var(--space-4);
            }
            
            .welcome-card,
            .balance-card {
                padding: var(--space-4);
            }
            
            .balance-actions {
                flex-direction: column;
            }
            
            .services-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .header-right {
                gap: var(--space-2);
            }
            
            .main-header {
                padding: var(--space-3) var(--space-4);
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .activity-item {
                flex-wrap: wrap;
            }
            
            .activity-time {
                text-align: left;
                min-width: auto;
                width: 100%;
                margin-top: var(--space-2);
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <!-- En-t√™te sidebar -->
            <div class="sidebar-header">
                <!-- Logo -->
                <div class="sidebar-logo">
                    <img src="../assets/logos/payfusion-logo-icon.png" alt="PayFusion">
                    <h1>PAY FUSION</h1>
                </div>
                
                <!-- Informations utilisateur -->
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">JD</div>
                    <div class="user-details">
                        <div class="user-name" id="userName">John Doe</div>
                        <div class="user-email" id="userEmail">john@exemple.com</div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="sidebar-nav">
                <!-- Section Accueil -->
                <div class="nav-section">
                    <div class="nav-section-title">Accueil</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" data-page="home">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/home-icon.png" alt="Accueil">
                                </span>
                                <span class="nav-text">Tableau de bord</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <!-- Section Services -->
                <div class="nav-section">
                    <div class="nav-section-title">Services</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="services.html" class="nav-link" data-page="services">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/finance-icon.png" alt="Finance">
                                </span>
                                <span class="nav-text">Services financiers</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="freefire.html" class="nav-link" data-page="freefire">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/gaming-icon.png" alt="Gaming">
                                </span>
                                <span class="nav-text">Recharge Jeux</span>
                                <span class="nav-badge">21 packs</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="netflix.html" class="nav-link" data-page="netflix">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/streaming-icon.png" alt="Streaming">
                                </span>
                                <span class="nav-text">Streaming</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="giftcards">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/gift-icon.png" alt="Cartes Cadeaux">
                                </span>
                                <span class="nav-text">Cartes Cadeaux</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <!-- Section Compte -->
                <div class="nav-section">
                    <div class="nav-section-title">Compte</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="wallet.html" class="nav-link" data-page="wallet">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/wallet-icon.png" alt="Portefeuille">
                                </span>
                                <span class="nav-text">Portefeuille</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="orders">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/orders-icon.png" alt="Commandes">
                                </span>
                                <span class="nav-text">Commandes</span>
                                <span class="nav-badge" id="pendingOrders">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="account.html" class="nav-link" data-page="account">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/profile-icon.png" alt="Profil">
                                </span>
                                <span class="nav-text">Profil</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="settings.html" class="nav-link" data-page="settings">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/settings-icon.png" alt="Param√®tres">
                                </span>
                                <span class="nav-text">Param√®tres</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <!-- Section Aide -->
                <div class="nav-section">
                    <div class="nav-section-title">Aide et Support</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="support.html" class="nav-link" data-page="support">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/support-icon.png" alt="Support">
                                </span>
                                <span class="nav-text">Support</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="community.html" class="nav-link" data-page="community">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/community-icon.png" alt="Communaut√©">
                                </span>
                                <span class="nav-text">Communaut√©</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="notifications.html" class="nav-link" data-page="notifications">
                                <span class="nav-checkbox"></span>
                                <span class="nav-icon">
                                    <img src="../assets/icons/notifications-icon.png" alt="Notifications">
                                </span>
                                <span class="nav-text">Notifications</span>
                                <span class="nav-badge" id="unreadNotifications">0</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <!-- Footer sidebar -->
            <div class="sidebar-footer">
                <!-- Bouton WhatsApp -->
                <a href="https://wa.me/50939442808" 
                   class="btn btn-primary" 
                   style="width: 100%; margin-bottom: var(--space-3);"
                   target="_blank">
                    <span class="nav-icon">
                        <img src="../assets/icons/whatsapp-icon.png" alt="WhatsApp">
                    </span>
                    WhatsApp Support
                </a>
                
                <!-- Bouton D√©connexion -->
                <a href="logout.html" class="btn btn-secondary" style="width: 100%;">
                    <span class="nav-icon">
                        <img src="../assets/icons/logout-icon.png" alt="D√©connexion">
                    </span>
                    Se D√©connecter
                </a>
            </div>
        </aside>
        
        <!-- CONTENU PRINCIPAL -->
        <main class="main-content">
            <!-- Header principal -->
            <header class="main-header">
                <div class="header-left">
                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <h1 class="page-title">Tableau de bord</h1>
                </div>
                
                <div class="header-right">
                    <!-- Badge KYC -->
                    <div id="kycStatusBadge" class="kyc-badge pending">
                        KYC: En attente
                    </div>
                    
                    <!-- Menu utilisateur -->
                    <div class="user-menu">
                        <button class="user-menu-btn" id="userMenuBtn">
                            <div class="user-avatar" style="width: 32px; height: 32px; font-size: var(--text-sm);" id="headerUserAvatar">JD</div>
                            <span>Mon compte</span>
                        </button>
                        
                        <div class="user-menu-dropdown" id="userMenuDropdown">
                            <a href="account.html" class="user-menu-item">
                                <img src="../assets/icons/profile-icon.png" alt="Profil" width="16">
                                Mon profil
                            </a>
                            <a href="settings.html" class="user-menu-item">
                                <img src="../assets/icons/settings-icon.png" alt="Param√®tres" width="16">
                                Param√®tres
                            </a>
                            <a href="wallet.html" class="user-menu-item">
                                <img src="../assets/icons/wallet-icon.png" alt="Portefeuille" width="16">
                                Mon portefeuille
                            </a>
                            
                            <div class="user-menu-divider"></div>
                            
                            <a href="logout.html" class="user-menu-item">
                                <img src="../assets/icons/logout-icon.png" alt="D√©connexion" width="16">
                                D√©connexion
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Contenu dashboard -->
            <div class="dashboard-content">
                <!-- Grille dashboard -->
                <div class="dashboard-grid">
                    <!-- Carte de bienvenue -->
                    <div class="welcome-card">
                        <h2 class="welcome-title" id="welcomeTitle">Bienvenue, John !</h2>
                        <p class="welcome-subtitle" id="welcomeMessage">
                            Votre destination de confiance pour les services financiers, gaming et streaming
                        </p>
                        <div class="balance-actions">
                            <a href="wallet.html" class="btn btn-primary">D√©poser des fonds</a>
                            <a href="services.html" class="btn" style="background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3);">
                                Explorer les services
                            </a>
                        </div>
                    </div>
                    
                    <!-- Carte solde -->
                    <div class="balance-card">
                        <div class="balance-header">
                            <h3 class="balance-title">Solde disponible</h3>
                            <button class="btn btn-sm btn-secondary" id="refreshBalance">
                                Actualiser
                            </button>
                        </div>
                        
                        <div class="balance-amount" id="balanceAmount">0 HTG</div>
                        <p class="balance-subtitle" id="balanceUSD">‚âà 0.00 USD</p>
                        
                        <!-- Badge KYC -->
                        <div id="kycWarning" style="margin-top: var(--space-4); display: none;">
                            <div style="background: rgba(245, 158, 11, 0.1); padding: var(--space-3); border-radius: var(--border-radius);">
                                <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--color-warning); font-size: var(--text-sm);">
                                    <span>‚ö†Ô∏è</span>
                                    <span>V√©rifiez votre identit√© pour augmenter vos limites</span>
                                </div>
                                <a href="kyc.html" class="btn btn-sm btn-primary" style="margin-top: var(--space-2); width: 100%;">
                                    V√©rifier mon identit√©
                                </a>
                            </div>
                        </div>
                        
                        <div class="balance-actions">
                            <button class="btn btn-primary" id="quickDepositBtn">
                                D√©p√¥t rapide
                            </button>
                            <a href="wallet.html" class="btn btn-secondary">
                                Voir d√©tails
                            </a>
                        </div>
                    </div>
                    
                    <!-- Services rapides -->
                    <div class="quick-services">
                        <h3 class="section-title">Services rapides</h3>
                        <div class="services-grid">
                            <!-- Service 1 -->
                            <a href="services.html" class="service-item">
                                <div class="service-icon">
                                    <img src="../assets/icons/finance-icon.png" alt="Finance">
                                </div>
                                <div class="service-name">Wise/PayPal</div>
                                <div class="service-desc">Transfert d'argent</div>
                            </a>
                            
                            <!-- Service 2 -->
                            <a href="freefire.html" class="service-item">
                                <div class="service-icon">
                                    <img src="../assets/icons/gaming-icon.png" alt="Gaming">
                                </div>
                                <div class="service-name">Free Fire</div>
                                <div class="service-desc">Diamants & Abonnements</div>
                            </a>
                            
                            <!-- Service 3 -->
                            <a href="netflix.html" class="service-item">
                                <div class="service-icon">
                                    <img src="../assets/icons/streaming-icon.png" alt="Streaming">
                                </div>
                                <div class="service-name">Netflix</div>
                                <div class="service-desc">Abonnements Premium</div>
                            </a>
                            
                            <!-- Service 4 -->
                            <a href="wallet.html" class="service-item">
                                <div class="service-icon">
                                    <img src="../assets/icons/wallet-icon.png" alt="Portefeuille">
                                </div>
                                <div class="service-name">Portefeuille</div>
                                <div class="service-desc">G√©rer mes fonds</div>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Activit√© r√©cente -->
                    <div class="recent-activity">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4);">
                            <h3 class="section-title">Activit√© r√©cente</h3>
                            <a href="#" class="btn btn-sm btn-secondary">Voir tout</a>
                        </div>
                        
                        <div class="activity-list" id="recentActivity">
                            <!-- Activit√© 1 -->
                            <div class="activity-item">
                                <div class="activity-icon deposit">
                                    ‚úì
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title">D√©p√¥t MonCash</div>
                                    <div class="activity-description">+509 3944 2808</div>
                                </div>
                                <div class="activity-amount positive">+1,500 HTG</div>
                                <div class="activity-time">Il y a 2h</div>
                            </div>
                            
                            <!-- Activit√© 2 -->
                            <div class="activity-item">
                                <div class="activity-icon purchase">
                                    üéÆ
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title">Free Fire Diamonds</div>
                                    <div class="activity-description">Pack 1,000+100</div>
                                </div>
                                <div class="activity-amount negative">-1,650 HTG</div>
                                <div class="activity-time">Hier, 15:30</div>
                            </div>
                            
                            <!-- Activit√© 3 -->
                            <div class="activity-item">
                                <div class="activity-icon deposit">
                                    ‚úì
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title">D√©p√¥t NatCash</div>
                                    <div class="activity-description">+509 3574 1778</div>
                                </div>
                                <div class="activity-amount positive">+3,000 HTG</div>
                                <div class="activity-time">05/12/2024</div>
                            </div>
                            
                            <!-- Message si vide -->
                            <div id="noActivityMessage" style="display: none; padding: var(--space-8); text-align: center; color: var(--color-gray-500);">
                                <p>Aucune activit√© r√©cente</p>
                                <a href="services.html" class="btn btn-primary" style="margin-top: var(--space-4);">
                                    D√©couvrir nos services
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- MODAL D√âP√îT RAPIDE -->
    <div class="modal-overlay" id="depositModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">D√©p√¥t rapide</h3>
                <button class="modal-close" id="closeDepositModal">&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- M√©thodes de d√©p√¥t -->
                <div style="margin-bottom: var(--space-6);">
                    <h4 style="margin-bottom: var(--space-4); font-weight: 600;">Choisissez une m√©thode</h4>
                    
                    <div style="display: grid; gap: var(--space-3);">
                        <!-- MonCash -->
                        <div class="payment-method" data-method="moncash" style="border: 1px solid var(--color-gray-300); border-radius: var(--border-radius); padding: var(--space-4); cursor: pointer; transition: all 0.2s;">
                            <div style="display: flex; align-items: center; gap: var(--space-3);">
                                <img src="../assets/logos/moncash-logo.png" alt="MonCash" width="40">
                                <div style="flex: 1;">
                                    <div style="font-weight: 500;">MonCash</div>
                                    <div style="font-size: var(--text-sm); color: var(--color-gray-500);">
                                        Minimum: 150 HTG ‚Ä¢ D√©lai: 10-30min
                                    </div>
                                </div>
                                <div class="method-radio" style="width: 20px; height: 20px; border: 2px solid var(--color-gray-400); border-radius: 50%;"></div>
                            </div>
                            
                            <!-- D√©tails MonCash -->
                            <div class="method-details" style="display: none; margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--color-gray-200);">
                                <div style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius);">
                                    <div style="margin-bottom: var(--space-2); font-weight: 500;">Informations pour le d√©p√¥t:</div>
                                    <div>üì± Num√©ro: <strong>+509 3944 2808</strong></div>
                                    <div>üë§ Nom: <strong>Marco Bien-Aim√©</strong></div>
                                    <div>üí∞ Minimum: <strong>150 HTG</strong></div>
                                    <div>‚è±Ô∏è D√©lai: <strong>10-30 minutes</strong></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- NatCash -->
                        <div class="payment-method" data-method="natcash" style="border: 1px solid var(--color-gray-300); border-radius: var(--border-radius); padding: var(--space-4); cursor: pointer; transition: all 0.2s;">
                            <div style="display: flex; align-items: center; gap: var(--space-3);">
                                <img src="../assets/logos/natcash-logo.png" alt="NatCash" width="40">
                                <div style="flex: 1;">
                                    <div style="font-weight: 500;">NatCash</div>
                                    <div style="font-size: var(--text-sm); color: var(--color-gray-500);">
                                        Minimum: 150 HTG ‚Ä¢ D√©lai: 10-30min
                                    </div>
                                </div>
                                <div class="method-radio" style="width: 20px; height: 20px; border: 2px solid var(--color-gray-400); border-radius: 50%;"></div>
                            </div>
                            
                            <!-- D√©tails NatCash -->
                            <div class="method-details" style="display: none; margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--color-gray-200);">
                                <div style="background: var(--color-gray-50); padding: var(--space-4); border-radius: var(--border-radius);">
                                    <div style="margin-bottom: var(--space-2); font-weight: 500;">Informations pour le d√©p√¥t:</div>
                                    <div>üì± Num√©ro: <strong>+509 3574 1778</strong></div>
                                    <div>üë§ Nom: <strong>Marco Bien-Aim√©</strong></div>
                                    <div>üí∞ Minimum: <strong>150 HTG</strong></div>
                                    <div>‚è±Ô∏è D√©lai: <strong>10-30 minutes</strong></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Montant -->
                <div style="margin-bottom: var(--space-6);">
                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Montant (HTG)</label>
                    <input type="number" 
                           id="depositAmount" 
                           placeholder="150"
                           min="150"
                           step="10"
                           style="width: 100%; padding: var(--space-3); border: 1px solid var(--color-gray-300); border-radius: var(--border-radius);">
                    <div style="font-size: var(--text-sm); color: var(--color-gray-500); margin-top: var(--space-2);">
                        Minimum: 150 HTG
                    </div>
                </div>
                
                <!-- Instructions -->
                <div style="background: var(--color-primary-very-light); padding: var(--space-4); border-radius: var(--border-radius); margin-bottom: var(--space-6);">
                    <div style="display: flex; align-items: flex-start; gap: var(--space-2);">
                        <span>‚ÑπÔ∏è</span>
                        <div>
                            <div style="font-weight: 500; margin-bottom: var(--space-2);">Instructions:</div>
                            <ol style="padding-left: var(--space-4); font-size: var(--text-sm);">
                                <li style="margin-bottom: var(--space-1);">Effectuez le transfert vers le num√©ro indiqu√©</li>
                                <li style="margin-bottom: var(--space-1);">Prenez une capture d'√©cran du transfert</li>
                                <li>Rendez-vous dans votre portefeuille pour uploader la preuve</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelDeposit">Annuler</button>
                <button class="btn btn-primary" id="confirmDeposit">Aller au portefeuille</button>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT INT√âGR√â -->
    <script>
        // Configuration
        const Dashboard = {
            // √âtat
            user: null,
            userData: null,
            selectedDepositMethod: null,
            
            // Initialisation
            init: function() {
                console.log('Dashboard initialis√©');
                
                // V√©rifier l'authentification
                this.checkAuth();
                
                // √âl√©ments DOM
                this.sidebar = document.getElementById('sidebar');
                this.mobileMenuToggle = document.getElementById('mobileMenuToggle');
                this.userMenuBtn = document.getElementById('userMenuBtn');
                this.userMenuDropdown = document.getElementById('userMenuDropdown');
                this.depositModal = document.getElementById('depositModal');
                this.quickDepositBtn = document.getElementById('quickDepositBtn');
                this.closeDepositModal = document.getElementById('closeDepositModal');
                this.cancelDeposit = document.getElementById('cancelDeposit');
                this.confirmDeposit = document.getElementById('confirmDeposit');
                this.refreshBalanceBtn = document.getElementById('refreshBalance');
                
                // √âv√©nements
                this.bindEvents();
                
                // Charger les donn√©es utilisateur
                this.loadUserData();
                
                // Mettre √† jour l'interface
                this.updateUI();
                
                // Charger l'activit√© r√©cente
                this.loadRecentActivity();
            },
            
            // V√©rifier l'authentification
            checkAuth: function() {
                const userId = localStorage.getItem('pf_user_id');
                
                if (!userId) {
                    // Rediriger vers login
                    window.location.href = 'login.html';
                    return;
                }
                
                // R√©cup√©rer l'utilisateur depuis localStorage
                this.user = {
                    id: userId,
                    email: localStorage.getItem('pf_user_email') || 'utilisateur@exemple.com',
                    name: localStorage.getItem('pf_user_name') || 'Utilisateur'
                };
            },
            
            // Liaison des √©v√©nements
            bindEvents: function() {
                // Menu mobile
                this.mobileMenuToggle.addEventListener('click', () => this.toggleMobileMenu());
                
                // Menu utilisateur
                this.userMenuBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.userMenuDropdown.classList.toggle('show');
                });
                
                // Fermer le menu en cliquant ailleurs
                document.addEventListener('click', () => {
                    this.userMenuDropdown.classList.remove('show');
                });
                
                // Navigation sidebar
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        if (link.getAttribute('href') === '#') {
                            e.preventDefault();
                        }
                        this.handleNavClick(link);
                    });
                });
                
                // Modal d√©p√¥t
                this.quickDepositBtn.addEventListener('click', () => this.openDepositModal());
                this.closeDepositModal.addEventListener('click', () => this.closeDepositModal());
                this.cancelDeposit.addEventListener('click', () => this.closeDepositModal());
                this.confirmDeposit.addEventListener('click', () => this.goToWallet());
                
                // M√©thodes de d√©p√¥t
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.addEventListener('click', () => this.selectDepositMethod(method));
                });
                
                // Actualiser solde
                this.refreshBalanceBtn.addEventListener('click', () => this.refreshBalance());
                
                // Montant d√©p√¥t
                const depositAmount = document.getElementById('depositAmount');
                if (depositAmount) {
                    depositAmount.addEventListener('input', () => this.validateDepositAmount());
                }
            },
            
            // Charger les donn√©es utilisateur
            loadUserData: function() {
                // Simulation de donn√©es utilisateur
                this.userData = {
                    firstName: 'John',
                    lastName: 'Doe',
                    email: this.user.email,
                    balance: 1850,
                    kycStatus: 'pending',
                    currency: 'HTG',
                    exchangeRate: 150
                };
                
                // Essayer de r√©cup√©rer depuis Firebase si disponible
                if (window.firebaseUtils && this.user.id) {
                    window.firebaseUtils.getUserData(this.user.id)
                        .then(data => {
                            if (data) {
                                this.userData = { ...this.userData, ...data };
                                this.updateUI();
                            }
                        })
                        .catch(error => {
                            console.warn('Erreur chargement donn√©es Firebase:', error);
                        });
                }
            },
            
            // Mettre √† jour l'interface
            updateUI: function() {
                // Nom utilisateur
                const userName = this.userData?.firstName || this.user?.name?.split(' ')[0] || 'Utilisateur';
                const userFullName = this.userData?.firstName && this.userData?.lastName 
                    ? `${this.userData.firstName} ${this.userData.lastName}`
                    : this.user?.name || 'Utilisateur PayFusion';
                
                const userEmail = this.userData?.email || this.user?.email || 'email@exemple.com';
                
                // Mettre √† jour les √©l√©ments
                document.getElementById('userName').textContent = userFullName;
                document.getElementById('userEmail').textContent = userEmail;
                document.getElementById('headerUserAvatar').textContent = userName.charAt(0).toUpperCase();
                document.getElementById('userAvatar').textContent = userName.charAt(0).toUpperCase();
                
                // Message de bienvenue
                document.getElementById('welcomeTitle').textContent = `Bienvenue, ${userName} !`;
                
                // Solde
                this.updateBalance();
                
                // Statut KYC
                this.updateKYCStatus();
                
                // Initiales avatar
                const avatarInitials = userName.charAt(0).toUpperCase() + (this.userData?.lastName?.charAt(0) || '').toUpperCase();
                document.getElementById('userAvatar').textContent = avatarInitials;
                document.getElementById('headerUserAvatar').textContent = avatarInitials;
            },
            
            // Mettre √† jour le solde
            updateBalance: function() {
                const balance = this.userData?.balance || 0;
                const exchangeRate = this.userData?.exchangeRate || 150;
                const balanceUSD = balance / exchangeRate;
                
                // Formater les montants
                const formattedBalance = this.formatCurrency(balance, 'HTG');
                const formattedUSD = this.formatCurrency(balanceUSD, 'USD');
                
                // Mettre √† jour l'interface
                document.getElementById('balanceAmount').textContent = formattedBalance;
                document.getElementById('balanceUSD').textContent = `‚âà ${formattedUSD}`;
            },
            
            // Actualiser le solde
            refreshBalance: function() {
                // Simulation de rafra√Æchissement
                this.refreshBalanceBtn.innerHTML = '<span style="display: inline-block; width: 12px; height: 12px; border: 2px solid currentColor; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 4px;"></span> Actualisation...';
                this.refreshBalanceBtn.disabled = true;
                
                // Simuler d√©lai r√©seau
                setTimeout(() => {
                    // Mettre √† jour avec Firebase si disponible
                    if (window.firebaseUtils && this.user.id) {
                        window.firebaseUtils.getUserData(this.user.id)
                            .then(data => {
                                if (data && data.balance !== undefined) {
                                    this.userData.balance = data.balance;
                                    this.updateBalance();
                                }
                            })
                            .finally(() => {
                                this.refreshBalanceBtn.innerHTML = 'Actualiser';
                                this.refreshBalanceBtn.disabled = false;
                            });
                    } else {
                        // Simulation
                        this.userData.balance += Math.floor(Math.random() * 100);
                        this.updateBalance();
                        this.refreshBalanceBtn.innerHTML = 'Actualiser';
                        this.refreshBalanceBtn.disabled = false;
                    }
                }, 1000);
            },
            
            // Mettre √† jour le statut KYC
            updateKYCStatus: function() {
                const kycStatus = this.userData?.kycStatus || 'pending';
                const kycBadge = document.getElementById('kycStatusBadge');
                const kycWarning = document.getElementById('kycWarning');
                
                if (!kycBadge) return;
                
                // Mettre √† jour le badge
                kycBadge.className = 'kyc-badge ' + kycStatus;
                kycBadge.innerHTML = `KYC: ${
                    kycStatus === 'pending' ? 'En attente' :
                    kycStatus === 'verified' ? 'V√©rifi√©' :
                    kycStatus === 'rejected' ? 'Rejet√©' : 'Inconnu'
                }`;
                
                // Afficher/masquer l'avertissement
                if (kycWarning) {
                    kycWarning.style.display = kycStatus !== 'verified' ? 'block' : 'none';
                }
            },
            
            // Charger l'activit√© r√©cente
            loadRecentActivity: function() {
                // Simulation d'activit√©
                const activity = [
                    {
                        type: 'deposit',
                        title: 'D√©p√¥t MonCash',
                        description: '+509 3944 2808',
                        amount: 1500,
                        time: 'Il y a 2h'
                    },
                    {
                        type: 'purchase',
                        title: 'Free Fire Diamonds',
                        description: 'Pack 1,000+100',
                        amount: -1650,
                        time: 'Hier, 15:30'
                    },
                    {
                        type: 'deposit',
                        title: 'D√©p√¥t NatCash',
                        description: '+509 3574 1778',
                        amount: 3000,
                        time: '05/12/2024'
                    }
                ];
                
                // Si pas d'activit√©
                if (activity.length === 0) {
                    document.getElementById('noActivityMessage').style.display = 'block';
                    return;
                }
                
                // G√©n√©rer le HTML
                let activityHTML = '';
                
                activity.forEach(item => {
                    const iconClass = item.type === 'deposit' ? 'deposit' : 
                                     item.type === 'withdrawal' ? 'withdrawal' : 'purchase';
                    const iconSymbol = item.type === 'deposit' ? '‚úì' : 
                                      item.type === 'withdrawal' ? '‚ÜóÔ∏è' : 'üéÆ';
                    const amountClass = item.amount > 0 ? 'positive' : 'negative';
                    const formattedAmount = this.formatCurrency(Math.abs(item.amount), 'HTG');
                    
                    activityHTML += `
                        <div class="activity-item">
                            <div class="activity-icon ${iconClass}">
                                ${iconSymbol}
                            </div>
                            <div class="activity-details">
                                <div class="activity-title">${item.title}</div>
                                <div class="activity-description">${item.description}</div>
                            </div>
                            <div class="activity-amount ${amountClass}">
                                ${item.amount > 0 ? '+' : '-'}${formattedAmount}
                            </div>
                            <div class="activity-time">${item.time}</div>
                        </div>
                    `;
                });
                
                // Ins√©rer dans la page
                const activityContainer = document.getElementById('recentActivity');
                if (activityContainer) {
                    // Garder le message "aucune activit√©" cach√©
                    document.getElementById('noActivityMessage').style.display = 'none';
                    
                    // Ajouter les activit√©s apr√®s les exemples existants
                    const existingActivities = activityContainer.querySelectorAll('.activity-item');
                    if (existingActivities.length <= 3) {
                        activityContainer.innerHTML = activityHTML;
                    }
                }
            },
            
            // Basculer menu mobile
            toggleMobileMenu: function() {
                this.sidebar.classList.toggle('mobile-open');
                const spans = this.mobileMenuToggle.querySelectorAll('span');
                
                if (this.sidebar.classList.contains('mobile-open')) {
                    spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
                    spans[1].style.opacity = '0';
                    spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
                } else {
                    spans[0].style.transform = 'none';
                    spans[1].style.opacity = '1';
                    spans[2].style.transform = 'none';
                }
            },
            
            // G√©rer clic navigation
            handleNavClick: function(link) {
                // Mettre √† jour les checkboxes
                document.querySelectorAll('.nav-link').forEach(navLink => {
                    navLink.classList.remove('active');
                    navLink.querySelector('.nav-checkbox').classList.remove('checked');
                });
                
                link.classList.add('active');
                link.querySelector('.nav-checkbox').classList.add('checked');
                
                // Fermer menu mobile si ouvert
                if (this.sidebar.classList.contains('mobile-open')) {
                    this.toggleMobileMenu();
                }
                
                // Navigation vers la page
                const href = link.getAttribute('href');
                if (href && href !== '#') {
                    // Si c'est logout, laisser le lien normal fonctionner
                    if (href.includes('logout')) return;
                    
                    // Sinon, navigation SPA
                    const page = link.dataset.page;
                    this.navigateToPage(page, href);
                }
            },
            
            // Navigation vers une page
            navigateToPage: function(page, href) {
                // Simulation de navigation SPA
                console.log('Navigation vers:', page);
                
                // Pour l'instant, redirection normale
                // √Ä l'avenir, charger le contenu dynamiquement
                if (href) {
                    window.location.href = href;
                }
            },
            
            // Ouvrir modal d√©p√¥t
            openDepositModal: function() {
                this.depositModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // R√©initialiser la s√©lection
                this.selectedDepositMethod = null;
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.style.borderColor = 'var(--color-gray-300)';
                    method.querySelector('.method-radio').style.borderColor = 'var(--color-gray-400)';
                    method.querySelector('.method-radio').style.backgroundColor = 'transparent';
                    method.querySelector('.method-details').style.display = 'none';
                });
                
                // R√©initialiser le montant
                document.getElementById('depositAmount').value = '150';
            },
            
            // Fermer modal d√©p√¥t
            closeDepositModal: function() {
                this.depositModal.classList.remove('active');
                document.body.style.overflow = '';
            },
            
            // S√©lectionner m√©thode de d√©p√¥t
            selectDepositMethod: function(methodElement) {
                // D√©s√©lectionner toutes les m√©thodes
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.style.borderColor = 'var(--color-gray-300)';
                    method.querySelector('.method-radio').style.borderColor = 'var(--color-gray-400)';
                    method.querySelector('.method-radio').style.backgroundColor = 'transparent';
                    method.querySelector('.method-details').style.display = 'none';
                });
                
                // S√©lectionner la m√©thode cliqu√©e
                methodElement.style.borderColor = 'var(--color-primary)';
                const radio = methodElement.querySelector('.method-radio');
                radio.style.borderColor = 'var(--color-primary)';
                radio.style.backgroundColor = 'var(--color-primary)';
                radio.style.boxShadow = 'inset 0 0 0 3px var(--color-white)';
                
                // Afficher les d√©tails
                methodElement.querySelector('.method-details').style.display = 'block';
                
                // Sauvegarder la s√©lection
                this.selectedDepositMethod = methodElement.dataset.method;
            },
            
            // Valider montant d√©p√¥t
            validateDepositAmount: function() {
                const amountInput = document.getElementById('depositAmount');
                const amount = parseFloat(amountInput.value) || 0;
                
                if (amount < 150) {
                    amountInput.style.borderColor = 'var(--color-error)';
                    return false;
                } else {
                    amountInput.style.borderColor = 'var(--color-gray-300)';
                    return true;
                }
            },
            
            // Aller au portefeuille pour d√©p√¥t
            goToWallet: function() {
                if (!this.selectedDepositMethod) {
                    alert('Veuillez s√©lectionner une m√©thode de d√©p√¥t');
                    return;
                }
                
                const amountInput = document.getElementById('depositAmount');
                const amount = parseFloat(amountInput.value) || 0;
                
                if (amount < 150) {
                    alert('Le montant minimum est de 150 HTG');
                    return;
                }
                
                // Fermer le modal
                this.closeDepositModal();
                
                // Rediriger vers le portefeuille avec param√®tres
                setTimeout(() => {
                    window.location.href = `wallet.html?deposit=${this.selectedDepositMethod}&amount=${amount}`;
                }, 300);
            },
            
            // Formater la monnaie
            formatCurrency: function(amount, currency = 'HTG') {
                return new Intl.NumberFormat('fr-HT', {
                    style: currency === 'HTG' ? 'decimal' : 'currency',
                    currency: currency === 'HTG' ? 'HTG' : 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 2
                }).format(amount);
            }
        };
        
        // Initialiser le dashboard
        document.addEventListener('DOMContentLoaded', function() {
            Dashboard.init();
        });
        
        // Ajouter l'animation spin si n√©cessaire
        if (!document.querySelector('#spin-animation')) {
            const style = document.createElement('style');
            style.id = 'spin-animation';
            style.textContent = `
                @keyframes spin {
                    to { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
        }
    </script>
    
    <!-- Librairies externes -->
    <script src="../firebase-config.js"></script>
    <script src="../emailjs-config.js"></script>
</body>
</html>